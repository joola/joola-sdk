!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(t){function r(){return"undefined"!=typeof window}var o=t.joolaio=n;if(o.options={token:null,host:null,cssHost:"",APIToken:null,logouturl:null,isBrowser:function(){return"undefined"!=typeof window}(),maxRequests:1e3,debug:{enabled:!1,events:{enabled:!1,trace:!1},functions:{enabled:!1}},timezoneOffset:null},o.globals=e("./lib/common/globals"),o.logger=e("./lib/common/logger"),o.dispatch=e("./lib/common/dispatch"),o.common=e("./lib/common/index"),o.events=e("./lib/common/events"),o.on=o.events.on,o.api=e("./lib/common/api"),o.state={},o.viz=e("./lib/viz/index"),o.VERSION=e("./package.json").version,o._token=null,o._apitoken=null,Object.defineProperty(o,"TOKEN",{get:function(){return o._token},set:function(e){o._token=e,o.events.emit("core.init.finish"),o.events.emit("ready")}}),Object.defineProperty(o,"APITOKEN",{get:function(){return o._apitoken},set:function(e){o._apitoken=e,o.USER=null,o._token=null,o.dispatch.users.verifyAPIToken(o.APITOKEN,function(e,t){o.USER=t})}}),e("./lib/common/globals"),r()){var i=document.getElementsByTagName("script");Object.keys(i).forEach(function(t){var n=i[t];if(n.src&&(n.src.indexOf("joola.io.js")>-1||n.src.indexOf("joola.io.min.js")>-1)){var r=e("url").parse(n.src);if(o.options.host=r.protocol+"//"+r.host,r.query){var a=e("querystring").parse(r.query);a&&a.APIToken&&(o.options.APIToken=a.APIToken)}}})}o.init=function(t,n){function i(e){function t(){return n--,0>=n?e(null):void 0}var n=0;if(!o.options.isBrowser)return t();if("undefined"==typeof jQuery){var r=document.createElement("script");n++,r.onload=function(){r=document.createElement("script"),n++,r.onload=function(){var e=document.createElement("script");n++,e.onload=function(){t()},e.src="/js/highcharts.js",document.head.appendChild(e),t()},r.src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js",document.head.appendChild(r),t()},r.src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js",document.head.appendChild(r)}else"undefined"==typeof Highcharts&&(r=document.createElement("script"),n++,r.onload=function(){t()},r.src="//code.highcharts.com/highcharts.js",document.head.appendChild(r));var i=document.createElement("link");return n++,i.onload=function(){t()},i.rel="stylesheet",i.href=o.options.host+"/joola.io.css",document.head.appendChild(i),0===n?t():void 0}n=n||emptyfunc,o.options=o.common.extend(o.options,t),o.options.isBrowser=r(),i(function(){if(t.token)o._token=t.token;else if("undefined"!=typeof location){var r=e("querystring"),i=r.parse(location.search.substring(1,location.search.length));i.token&&(o._token=i.token)}if(o.events.emit("core.init.start"),o.logger.info("Starting joola.io client SDK, version "+o.VERSION),!o.options.host&&o.options.isBrowser&&(o.options.host=location.protocol+"//"+location.host),!o.options.host)throw new Error("joola.io host not specified");var a=e("socket.io-browserify");o.io=a,o.io.socket=o.io.connect(o.options.host),o.dispatch.buildstub(function(e){if(e)return n(e);if(o.options.token)o.dispatch.users.getByToken(o._token,function(e,t){return e?n(e):(o.USER=t,o.TOKEN=o._token,o.events.emit("core.init.finish"),n?n(null,o):void 0)});else if(o.options.APIToken)o._apitoken=o.options.APIToken,o.USER=null,o._token=null,o.dispatch.users.verifyAPIToken(o._apitoken,function(e,t){return o.USER=t,o.events.emit("core.init.finish"),o.events.emit("ready"),"function"==typeof n?n(null,o):void 0});else if(o.events.emit("core.init.finish"),o.events.emit("ready"),"function"==typeof n)return n(null,o)}),o.options.debug&&o.options.debug.functions&&o.options.debug.functions.enabled&&[o].forEach(function(e){o.common.hookEvents(e,function(){})}),o.options.debug.enabled&&o.options.debug.events&&o.events.onAny(function(){o.options.debug.events.enabled&&o.logger.debug("Event raised: "+this.event),o.options.debug.events.enabled&&o.options.debug.events.trace&&console.trace()})})},(o.options.APIToken||o.options.token)&&o.init({}),o.set=function(e,t,n){o.options[e]=t,"APIToken"===e?(o._apitoken=o.options.APIToken,o.USER=null,o._token=null,o.dispatch.users.verifyAPIToken(o._apitoken,function(e,t){return e?n(e):t?(o.USER=t,"function"==typeof n?n(null):void 0):n(new Error("Failed to verify API Token"))})):"token"===e&&(o._token=o.options._token,o.USER=null,o.APIToken=null,o.dispatch.users.getByToken(o._token,function(e,t){return o.USER=t,o.TOKEN=t.token._,"function"==typeof n?n(null):void 0}))},o.get=function(e){return o.options[e]}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/common/api":3,"./lib/common/dispatch":4,"./lib/common/events":5,"./lib/common/globals":6,"./lib/common/index":7,"./lib/common/logger":8,"./lib/viz/index":21,"./package.json":59,querystring:41,"socket.io-browserify":57,url:50}],2:[function(){function e(n,r,o){if(n.addEventListener)n.addEventListener(r,o,!1);else{o.$$guid||(o.$$guid=e.guid++),n.events||(n.events={});var i=n.events[r];i||(i=n.events[r]={},n["on"+r]&&(i[0]=n["on"+r])),i[o.$$guid]=o,n["on"+r]=t}}function t(e){var t=!0;e=e||n(((this.ownerDocument||this.document||this).parentWindow||window).event);var r=this.events[e.type];for(var o in r)this.$$handleEvent=r[o],this.$$handleEvent(e)===!1&&(t=!1);return t}function n(e){return e.preventDefault=n.preventDefault,e.stopPropagation=n.stopPropagation,e}var r=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,o&&clearInterval(o),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,i(document.getElementsByTagName("table"),function(e){-1!=e.className.search(/\bsortable\b/)&&sorttable.makeSortable(e)})))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var n=0;n<t.rows.length;n++)-1!=t.rows[n].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[n]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(var n=0;n<sortbottomrows.length;n++)tfo.appendChild(sortbottomrows[n]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(var n=0;n<headrow.length;n++)headrow[n].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[n].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),headrow[n].sorttable_sortfunction=mtch&&"function"==typeof sorttable["sort_"+override]?sorttable["sort_"+override]:sorttable.guessType(t,n),headrow[n].sorttable_columnindex=n,headrow[n].sorttable_tbody=t.tBodies[0],e(headrow[n],"click",sorttable.innerSortFunction=function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=r?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=r?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",void this.appendChild(sortfwdind);theadrow=this.parentNode,i(theadrow.childNodes,function(e){1==e.nodeType&&(e.className=e.className.replace("sorttable_sorted_reverse",""),e.className=e.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=r?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var e=0;e<rows.length;e++)row_array[row_array.length]=[sorttable.getInnerText(rows[e].cells[col]),rows[e]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(var e=0;e<row_array.length;e++)tb.appendChild(row_array[e][1]);delete row_array}))}},guessType:function(e,t){sortfn=sorttable.sort_alpha;for(var n=0;n<e.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(e.tBodies[0].rows[n].cells[t]),""!=text){if(text.match(/^-?[£$¤]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate&&""!=possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(e){if(!e)return"";if(hasInputs="function"==typeof e.getElementsByTagName&&e.getElementsByTagName("input").length,null!=e.getAttribute("sorttable_customkey"))return e.getAttribute("sorttable_customkey");if("undefined"!=typeof e.textContent&&!hasInputs)return e.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.innerText&&!hasInputs)return e.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.text&&!hasInputs)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if("input"==e.nodeName.toLowerCase())return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var t="",n=0;n<e.childNodes.length;n++)t+=sorttable.getInnerText(e.childNodes[n]);return t.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(e){newrows=[];for(var t=0;t<e.rows.length;t++)newrows[newrows.length]=e.rows[t];for(var t=newrows.length-1;t>=0;t--)e.appendChild(newrows[t]);delete newrows},sort_numeric:function(e,t){return aa=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt2>dt1?-1:1},sort_mmdd:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt2>dt1?-1:1},shaker_sort:function(e,t){for(var n=0,r=e.length-1,o=!0;o;){o=!1;for(var i=n;r>i;++i)if(t(e[i],e[i+1])>0){var a=e[i];e[i]=e[i+1],e[i+1]=a,o=!0}if(r--,!o)break;for(var i=r;i>n;--i)if(t(e[i],e[i-1])<0){var a=e[i];e[i]=e[i-1],e[i-1]=a,o=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var o=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init,e.guid=1,n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)}),Function.prototype.forEach=function(e,t,n){for(var r in e)"undefined"==typeof this.prototype[r]&&t.call(n,e[r],r,e)},String.forEach=function(e,t,n){Array.forEach(e.split(""),function(r,o){t.call(n,r,o,e)})};var i=function(e,t,n){if(e){var r=Object;if(e instanceof Function)r=Function;else{if(e.forEach instanceof Function)return void e.forEach(t,n);"string"==typeof e?r=String:"number"==typeof e.length&&(r=Array)}r.forEach(e,t,n)}}},{}],3:[function(e,t,n){var r=e("http"),o=e("https"),i=e("querystring"),a=n;a._id="api",i.escape=function(e){return encodeURIComponent(e)};var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";case"object":return JSON.stringify(e);default:return""}};i.stringify=i.encode=function(e,t,n,r){t=t||"&",n=n||"=",e=null===e?void 0:e;try{switch(typeof e){case"object":return Object.keys(e).map(function(r){if(Array.isArray(e[r]))return e[r].map(function(e){return i.escape(s(r))+n+i.escape(s(e))}).join(t);var o=i.escape(s(r))+n+i.escape(s(e[r]));return o}).join(t);default:return r?i.escape(s(r))+n+i.escape(s(e)):""}}catch(o){console.log(o)}},a.requestCount=0,a.waitingRequests=[],a.fetch=function(t,n,r){var o=a;if(a.requestCount<(joolaio.options.maxRequests||100)){a.requestCount++;try{var i=e("url").parse(joolaio.options.host),s={host:i.hostname,port:i.port,secure:"http:"!==i.protocol,path:t,method:"GET",headers:{"Content-Type":"application/json"}};o.getJSON(s,n,function(e,t){return t?t.realtime||a.requestCount--:a.requestCount--,o.requestCount<0&&(o.requestCount=0),a.waitingRequests.length&&a.fetch.apply(null,a.waitingRequests.shift()),r(e,t)})}catch(c){return console.log("ex",c),r(c)}}else a.waitingRequests.push(arguments)},a.getJSON=function(e,t,n){var a=e.secure?o:r;if(joolaio.logger.silly("[api] Fetching JSON from "+e.host+":"+e.port+e.path+"@"+(joolaio.APITOKEN||joolaio.TOKEN)),!joolaio.io||joolaio.options.ajax||e.ajax){var s=i.stringify(t);e.path+="?"+s;var c,u;try{var l=a.request(e,function(t){var r="";t.on("data",function(e){r+=e}),t.on("end",function(){if(clearTimeout(c),u)return n(new Error("[api] Timeout while fetching: "+e.host+":"+e.port+e.path));var o;if("object"==typeof r);else if(200==t.statusCode)try{o=JSON.parse(r)}catch(i){return joolaio.logger.error("[api] Error: "+e.host+":"+e.port+e.path+". Error: "+i.message),n(new Error("[api] Error: "+e.host+":"+e.port+e.path+". Error: "+i.message))}return 200==t.statusCode?n(null,o):302==t.statusCode?n(new Error("Failed to execute request: Authentication Failed")):401==t.statusCode?(joolaio.options.logouturl&&(location.href=joolaio.options.logouturl),n(new Error("Failed to execute request: "+(o&&"undefined"!==o.message?o.message:"Unauthorized")))):n(new Error("Failed to execute request: "+(o&&o.message?o.message:o||"n/a")))})});c=setTimeout(function(){u=!0,l.xhr?l.xhr.abort():l.abort()},e.timeout||joolaio.options.timeout||15e3),l.on("error",function(e){return n(e)}),l.end()}catch(f){console.log(f)}}else{e.path=e.path.substring(1);var d=function(e){var t=e.headers,r=e.message;return t&&t.StatusCode&&401==t.StatusCode?(joolaio.options.logouturl&&(location.href=joolaio.options.logouturl),n(new Error("Failed to execute request: "+e.message.message))):t&&t.StatusCode&&500==t.StatusCode?n(r.message?r.message:"unknown error"):n(null,r)},h=e.path+"-"+joolaio.common.uuid();joolaio.TOKEN&&(t._token=joolaio.TOKEN),t._token||(t.APIToken=joolaio.APITOKEN),t._path=e.path,joolaio.io.socket.emit(h,t),t&&(t.realtime||t.options&&t.options.realtime)?joolaio.io.socket.on(h+":done",d):joolaio.io.socket.once(h+":done",d)}}},{http:32,https:36,querystring:41,url:50}],4:[function(e,t,n){var r=e("cloneextend"),o=n;o._id="dispatch",o.buildstub=function(t){t=t||emptyfunc;try{var n=e("url").parse(joolaio.options.host),i=n.port;i||(i="http:"===n.protocol?80:443);var a={host:n.hostname,port:i,secure:"http:"!==n.protocol,path:"/meta",method:"GET",headers:{"Content-Type":"application/json"},ajax:!0};joolaio.api.getJSON(a,{},function(e,n){return e?t(e):(joolaio.api.describe={},Object.keys(n).forEach(function(e){o[e]={},Object.keys(n[e]).forEach(function(i){joolaio.api.describe[e]||(joolaio.api.describe[e]={}),joolaio.api.describe[e][i]=r.cloneextend(n[e][i]);var a=n[e][i];o[e][i]=function(){var n=arguments;t=emptyfunc,"function"==typeof n[Object.keys(n).length-1]&&(t=n[Object.keys(n).length-1]);var o=0,s={};a.inputs.required&&(a.inputs=a.inputs.required.concat(a.inputs.optional));var c=0;"workspace"===a.inputs[0]&&n.length-1<a.inputs.length&&(c=1),c>0&&(s[a.inputs[0]]=joolaio.USER.workspace),Object.keys(n).forEach(function(e){o<a.inputs.length-c&&(n[a.inputs[o+c]]=n[e],s[a.inputs[o+c]]=n[e]),delete n[e],o++}),n=s,joolaio.logger.debug("["+e+":"+i+"] called with: "+JSON.stringify(n));var u=r.clone(t);try{joolaio.api.fetch(a.name,n,function(e,t){return t?u(e,t):u(e)})}catch(l){return u(l)}},joolaio[e]||(joolaio[e]={}),joolaio[e][i]||(joolaio[e][i]=o[e][i])})}),t(null))})}catch(s){return t(s)}}},{cloneextend:53,url:50}],5:[function(e,t,n){var r=e("eventemitter2").EventEmitter2,o=new r({wildcard:!0,newListener:!0});o._id="events",t.exports=n=o},{eventemitter2:54}],6:[function(){(function(e){e.emptyfunc=function(){},joolaio.timezone=function(e){e&&(joolaio.options.timezoneOffset=e);var t=0;return joolaio.options.timezoneOffset&&(t=joolaio.options.timezoneOffset||(new Date).getTimezoneOffset()/60*-1),t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){var r=e("util"),o=(e("cloneextend"),r);o._id="common",t.exports=n=o,o.extend=o._extend,e("./modifiers"),o.mixin=function(e,t,n){if(!t||"object"!=typeof t)return e;for(var r=Object.keys(t),o=0;o<r.length;)e.hasOwnProperty(r[o])?n&&(e[r[o]]=t[r[o]]):e[r[o]]=t[r[o]],o++;return e},o.hookEvents=function(e){if(e){var t,n,r;e._id&&(r=e._id);for(t in e)n=e[t],"_"!=t.substring(0,1)&&("function"==typeof n&&"hookEvents"!==t?e[t]=function(e,t){return function(){var n=this,o="Function "+(r?r+".":"")+e;joolaio.options.debug.functions.enabled&&console.time&&console.time(o);var i=t.apply(n,arguments);return joolaio.options.debug.functions.enabled&&console.time&&console.timeEnd(o),i}}(t,n):"object"==typeof n&&this.hookEvents(n))}},o.uuid=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;9>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},o.stringify=function(e,t){return t(null,JSON.stringify(e))},o.parse=function(e,t){return t(null,JSON.parse(e))},o.hash=function(t){return e("crypto").createHash("md5").update(t).digest("hex")}},{"./modifiers":9,cloneextend:53,crypto:26,util:52}],8:[function(e,t,n){var r=n;r._id="logger",r._log=function(e,t,n){switch(e){case"debug":case"info":case"warn":case"error":break;case"silly":e="debug"}if(joolaio.options.debug.enabled)return t="object"==typeof t?"["+(new Date).format("hh:nn:ss.fff")+"] "+JSON.stringify(t):"["+(new Date).format("hh:nn:ss.fff")+"] "+t,joolaio.options.isBrowser&&console.debug?-1==["silly","debug"].indexOf(e)?console[e](t):joolaio.options.debug.enabled&&["silly","debug"].indexOf(e)>-1&&console[e](t):console.log(t),n?n(null):void 0},r.silly=function(e,t){return this._log("silly",e,t)},r.info=function(e,t){return this._log("info",e,t)},r.debug=function(e,t){return this._log("debug",e,t)},r.warn=function(e,t){return this._log("warn",e,t)},r.error=function(e,t){return this._log("error",e,t)}},{}],9:[function(){Date.prototype.format=function(e){var t=this,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=t.getFullYear(),o=r.toString().substring(2),i=t.getMonth()+1,a=10>i?"0"+i:i,s=n[i-1],c=t.getDate(),u=10>c?"0"+c:c,l=t.getMilliseconds().toString();l=100>l?10>l?"00"+l:0+l:l;var f=t.getHours(),d=10>f?"0"+f:f,h=t.getMinutes(),p=10>h?"0"+h:h,m=t.getSeconds(),v=10>m?"0"+m:m;return e=e.replace(/yyyy/i,r),e=e.replace(/yy/i,o),e=e.replace(/mmm/i,s),e=e.replace(/mm/i,a),e=e.replace(/m/i,i),e=e.replace(/dd/i,u),e=e.replace(/d/i,c),e=e.replace(/hh/i,d),e=e.replace(/nn/i,p),e=e.replace(/ss/i,v),e=e.replace(/fff/i,l)},Date.dateDiff=function(e,t,n){e=e.toLowerCase();var r=n-t,o={w:6048e5,d:864e5,h:36e5,n:6e4,s:1e3};return Math.floor(r/o[e])},Object.defineProperty(Error.prototype,"toJSON",{value:function(){var e={};return Object.getOwnPropertyNames(this).forEach(function(t){e[t]=this[t]},this),e},configurable:!0})},{}],10:[function(e,t){{var n=e("eventemitter2").EventEmitter2,r=e("cloneextend"),o=new n({wildcard:!0,newListener:!0});t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("canvas.init.start"),this._super={};for(var i in e("./_proto"))this[i]=e("./_proto")[i],this._super[i]=e("./_proto")[i];for(var a in o)this[a]=o[a],this._super[a]=o[a];var s=this;this._id="_canvas",this.uuid=joolaio.common.uuid(),this.options={container:null,$container:null,visualizations:{},state:{}},this.verify=function(e,t){return this._super.verify(e,t)},this.prepareQuery=function(e){var t=r.extend({},e);if(s.options.query&&(t=joolaio.common.extend(s.options.query,t)),s.options.datepicker){var n=$(s.options.datepicker).DatePicker();t.timeframe={},t.timeframe.start=n.base_fromdate,t.timeframe.end=n.base_todate}return t},this.draw=function(e,t){var n=this;return n.options.datepicker&&$(n.options.datepicker).DatePicker({}),n.options.viz&&n.options.viz.length>0&&n.options.viz.forEach(function(e){switch(e.query=n.prepareQuery(e.query),e.type){case"Metric":$(e.container).Metric(e)}}),"function"==typeof t?t(null,n):void 0},this.addVisualization=function(e){this.options.visualizations[e.uuid]=e};try{joolaio.common.mixin(s.options,t,!0),s.verify(s.options,function(e){return e?n(e):(s.options.$container=$(s.options.container),void s.markContainer(s.options.$container,[{type:"canvas"},{uuid:s.uuid}],function(e){return e?n(e):(joolaio.viz.onscreen.push(s),joolaio.events.emit("canvas.init.finish",s),"function"==typeof n?n(null,s):void 0)}))})}catch(c){return s.onError(c,n)}return s}}joolaio.events.on("core.init.finish",function(){"undefined"!=typeof jQuery&&($.fn.Canvas=function(e,t){var n=null,r=this.attr("jio-uuid");if(r){var o=!1;joolaio.viz.onscreen.forEach(function(e){e.uuid!=r||o||(o=!0,n=e)})}else e||(e={}),e.container=this.get(0),n=new joolaio.viz.Canvas(e,function(n,r){if(n)throw new Error("Failed to initialize canvas.",n);r.draw(e,t)}).options.$container;return n})})},{"./_proto":20,cloneextend:53,eventemitter2:54}],11:[function(e,t){e("underscore"),t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("datepicker.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this.addDays=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},this.fixDate=function(e,t){var n=-1*(e.getTimezoneOffset()/60),r=e,o=r.getUTCFullYear(),i=r.getUTCMonth()+1,a=r.getUTCDate(),s=r.getUTCHours(),c=r.getUTCMinutes(),u=r.getUTCSeconds(),l=!1;s+=n;var f=null;f=new Date(t?o+"-"+i+"-"+a+" 00:00 GMT":o+"-"+i+"-"+a+" "+s+":"+c+" GMT"),"Invalid Date"==f&&(t?(f=new Date,f.setFullYear(o,i-1,a),f.setHours(parseInt(s)),f.setMinutes(0),f.setSeconds(0)):(f=new Date,f.setFullYear(o,i-1,a),f.setHours(parseInt(s)),f.setMinutes(parseInt(c)),f.setSeconds(parseInt(u)))),l&&f.setDate(f.getDate()+1);new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds());return f},this._id="_datepicker",this.uuid=joolaio.common.uuid(),this.options={canvas:null,container:null,$container:null,comparePeriod:!1},this.currentMode="base-from",this.original_base_fromdate=null,this.original_base_todate=null,this.original_compare_fromdate=null,this.original_compare_todate=null,this.min_date=new Date,this.min_date.setMonth(this.min_date.getMonth()-6),this.max_date=new Date,this.base_todate=new Date(this.max_date),this.base_fromdate=o.addDays(this.base_todate,-30),this.base_fromdate<this.min_date&&(this.base_fromdate=new Date,this.base_fromdate.setDate(this.base_fromdate.getDate()-1),this.disableCompare=!0);var i=Date.dateDiff("d",this.base_fromdate,this.base_todate);this.compare_todate=o.addDays(this.base_fromdate,-1),this.compare_fromdate=o.addDays(this.compare_todate,-1*i),this.original_base_fromdate=this.base_fromdate,this.original_base_todate=this.base_todate,this.original_compare_fromdate=this.compare_fromdate,this.original_compare_todate=this.compare_todate,this.applied_base_fromdate=this.base_fromdate,this.applied_base_todate=this.base_todate,this.applied_compare_fromdate=this.compare_fromdate,this.applied_compare_todate=this.compare_todate,this.comparePeriod=!1,this.isCompareChecked=!1,this.offsetX=0,this.offsetY=0,this.verify=function(e,t){return this._super.verify(e,t)},this.template=function(){var e=function(e){var t=$(e);return t.on("click",function(){o.options.$container.find(".btn").removeClass("active"),t.addClass("active")}),t},t=function(e){var t=$(e);return t.on("click",function(){o.options.$container.find(".btn").removeClass("active"),t.addClass("active open")}),t},n=$('<div class="jio datepicker btn-group"></div>'),r=$('<div class="jio datepicker option btn btn-default last_day">Past Day</div>'),i=$('<div class="jio datepicker option btn btn-default last_week">Past Week</div>'),a=$('<div class="jio datepicker option btn btn-default last_month">Past Month</div>'),s=$('<div class="jio datepicker option btn btn-default custom">Custom</div>');return n.append(e(r)),n.append(e(i)),n.append(e(a)),n.append(t(s)),n},this.draw=function(){var e=o.options.$container,t=$('<div class="datebox jcontainer"><table class="datetable unselectable"><tr><td class="dates"></td><td><div class="dropdownmarker"></div></td></tr></table></div></div>');e.append(t);var n=t.find(".dates");n.append('<span class="datelabel fromdate">'+o.formatDate(o.base_fromdate)+"</span>"),n.append(" - "),n.append('<span class="datelabel todate">'+o.formatDate(o.base_todate)+"</span>"),n.append('<div class="compare" style="display:none">Compare to: <span class="datelabel compare fromdate">'+o.formatDate(o.compare_fromdate)+'</span> - <span class="datelabel compare todate">'+o.formatDate(o.compare_todate)+"</span></div>"),o.comparePeriod?e.find(".dates .compare").show():e.find(".dates .compare").hide();var r=$('<div class="picker" style="display:none"></div>');r.append('<table class="wrapper"><tr valign=top><td class="calendars"></td><td class="control"><div class="optionscontainer"></div></td></tr></table>'),e.append(r);var i=$(".optionscontainer");i.append('<div class="customdate">Date Range:<select class="selector"><option value="custom">Custom</option><option value="today">Today</option><option value="yesterday">Yesterday</option><option value="lastweek">Last week</option><option value="lastmonth">Last Month</option></select></div>'),i.append('<hr class="divider" style="margin-bottom: 5px;">'),i.append('<div class="daterange baserange""><input class="dateoption active" type="text" value="Jan 1, 2012"> - <input class="dateoption" type="text" value="Jan 1, 2012"></div>'),i.append('<div class="compareoption visible""><input type="checkbox" class="checker"/><span style="padding-left:5px;">Compare to past</span></div>'),i.append('<div class="daterange comparerange""><input class="dateoption active" type="text" value="Jan 1, 2012"> - <input class="dateoption" type="text" value="Jan 1, 2012"></div>'),i.append('<hr class="divider"><div class="_buttons"><button class="btn apply" value="Apply">Apply</button><span class="cancel">Cancel</span></div>');var a=e.find(".calendars");r=$('<table><tr valign=top><td class="datetable-prev unselectable"></td><td class="datetable"><div class="datepicker dp1"></div></td><td class="datetable"><div class="datepicker dp2"></div></td><td class="datetable"><div class="datepicker dp3"></div></td><td class="datetable-next unselectable"></td></tr></table>'),a.append(r),$(".datetable-prev").append('<div class="prev"><div class="inline-block prev"></div></div>'),$(".datetable-prev .prev").off("click"),$(".datetable-prev .prev").on("click",function(e){e.stopPropagation();var t=$($(".datepicker")[0]).datepicker("getDate");if(!(t.setMonth(t.getMonth())<o.min_date)){var n=$($(".datepicker")[2]).datepicker("getDate");n=new Date(n),n.setMonth(n.getMonth()-1);var r=new Date(n);$(".datepicker").each(function(e,t){var n=new Date(r);n.setMonth(n.getMonth()-(2-e)),$(t).datepicker("setDate",n)})}}),$(".datetable-next").append('<div class="next"><div class="inline-block next"></div></div>'),$(".datetable-next .next").off("click"),$(".datetable-next .next").on("click",function(e){e.stopPropagation();var t=$($(".datepicker")[2]).datepicker("getDate");if(!(t.setMonth(t.getMonth()+1)>o.max_date)){t=new Date(t);var n=new Date(t);$(".datepicker").each(function(e,t){var r=new Date(n);r.setMonth(r.getMonth()-(2-e)),$(t).datepicker("setDate",r)})}});$(".datepicker").datepicker({dayNamesMin:["S","M","T","W","T","F","S"],firstDay:0,beforeShowDay:function(e){return o.drawCell(e)},onSelect:function(e){switch(i.find(".selector").val("custom"),o.currentMode){case"base-from":o.currentMode="base-to",o.base_fromdate=new Date(e),o.base_todate=new Date(e);var t=new Date(o.min_date);t.setUTCHours(0,0,0,0),t.setDate(t.getDate()+1),o.base_fromdate.getTime()<=t.getTime()?$(".compareoption .checker").attr("disabled","disabled"):$(".compareoption .checker").is(":disabled")&&$(".compareoption .checker").removeAttr("disabled"),$($(".daterange.baserange .dateoption")[0]).val(o.formatDate(o.base_fromdate)),$($(".daterange.baserange .dateoption")[0]).removeClass("invalid"),$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_fromdate)),$($(".daterange.baserange .dateoption")[1]).removeClass("invalid");break;case"base-to":o.base_todate=new Date(e),$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_todate)),$($(".daterange.baserange .dateoption")[1]).removeClass("invalid"),o.currentMode=o.isCompareChecked?"compare-from":"base-from";break;case"compare-from":o.compare_fromdate=new Date(e),o.compare_todate=new Date(e),$($(".daterange.comparerange .dateoption")[0]).val(o.formatDate(o.compare_fromdate)),$($(".daterange.comparerange .dateoption")[0]).removeClass("invalid"),$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).removeClass("invalid"),o.currentMode="compare-to";break;case"compare-to":o.compare_todate=new Date(e),$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_todate)),$($(".daterange.comparerange .dateoption")[1]).removeClass("invalid"),o.currentMode="base-from"}o.handleChange()}}),$(".datepicker").find('a[href="#"]').each(function(){$(this).on("click",function(e){e.stopPropagation()})}),$(".datepicker").each(function(e,t){var n=new Date(o.base_todate.getFullYear(),o.base_todate.getMonth(),1);n.setMonth(n.getMonth()-(2-e)),$(t).datepicker("setDate",n)}),$($(".daterange.baserange .dateoption")[0]).focus(function(){o.currentMode="base-from",o.handleChange()}),$($(".daterange.baserange .dateoption")[0]).blur(function(){$($(".daterange.baserange .dateoption")[0]).val(o.formatDate(o.base_fromdate)),$(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.currentMode="base-from",o.handleChange()}),$($(".daterange.baserange .dateoption")[0]).keyup(function(){"Invalid Date"==new Date($(this).val())||new Date($(this).val())>o.base_todate||new Date($(this).val())>o.max_date||new Date($(this).val())<o.min_date?($(this).addClass("invalid"),$(".btn.apply").addClass("disabled"),$(".btn.apply").prop("disabled",!0)):($(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.base_fromdate=new Date($(this).val()))}),$($(".daterange.baserange .dateoption")[1]).focus(function(){o.currentMode="base-to",o.handleChange()}),$($(".daterange.baserange .dateoption")[1]).blur(function(){$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_todate)),$(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.currentMode="base-to",o.handleChange()
}),$($(".daterange.baserange .dateoption")[1]).keyup(function(){"Invalid Date"==new Date($(this).val())||new Date($(this).val())<o.base_fromdate||new Date($(this).val())>o.max_date||new Date($(this).val())<o.min_date?($(this).addClass("invalid"),$(".btn.apply").addClass("disabled"),$(".btn.apply").prop("disabled",!0)):($(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.base_todate=new Date($(this).val()))}),$($(".daterange.comparerange .dateoption")[0]).focus(function(){o.currentMode="compare-from",o.handleChange()}),$($(".daterange.comparerange .dateoption")[0]).blur(function(){$($(".daterange.comparerange .dateoption")[0]).val(o.formatDate(o.compare_fromdate)),$(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.currentMode="compare-from",o.handleChange()}),$($(".daterange.comparerange .dateoption")[0]).keyup(function(){"Invalid Date"==new Date($(this).val())||new Date($(this).val())>o.compare_todate||new Date($(this).val())>o.max_date||new Date($(this).val())<o.min_date?($(this).addClass("invalid"),$(".btn.apply").addClass("disabled"),$(".btn.apply").prop("disabled",!0)):($(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.compare_fromdate=new Date($(this).val()))}),$($(".daterange.comparerange .dateoption")[1]).focus(function(){o.currentMode="compare-to",o.handleChange()}),$($(".daterange.comparerange .dateoption")[1]).blur(function(){$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_todate)),$(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.currentMode="compare-to",o.handleChange()}),$($(".daterange.comparerange .dateoption")[1]).keyup(function(){"Invalid Date"==new Date($(this).val())||new Date($(this).val())<o.compare_fromdate||new Date($(this).val())>o.base_todate||new Date($(this).val())>o.max_date||new Date($(this).val())<o.min_date?($(this).addClass("invalid"),$(".btn.apply").addClass("disabled"),$(".btn.apply").prop("disabled",!0)):($(this).removeClass("invalid"),$(".btn.apply").removeClass("disabled"),$(".btn.apply").prop("disabled",!1),o.compare_todate=new Date($(this).val()))}),i.find(".cancel").click(function(){o.base_fromdate=o.original_base_fromdate,o.base_todate=o.original_base_todate,o.compare_fromdate=o.original_compare_fromdate,o.compare_todate=o.original_compare_todate,o.comparePeriod?$(".compareoption .checker").is(":checked")||($(".compareoption .checker").click(),$(".compareoption .checker").prop("checked",!0)):$(".compareoption .checker").is(":checked")&&($(".compareoption .checker").click(),$(".compareoption .checker").prop("checked",!1)),$($(".daterange.baserange .dateoption")[0]).val(o.formatDate(o.base_fromdate)),$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_todate)),$($(".daterange.comparerange .dateoption")[0]).val(o.formatDate(o.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_todate)),o.handleChange(),s.click()}),i.find(".selector").change(function(){switch(this.value){case"today":o.base_todate=o.fixDate(new Date,!0),o.base_fromdate=o.addDays(o.base_todate,-0);break;case"yesterday":o.base_todate=o.fixDate(new Date,!0),o.base_todate=o.addDays(o.base_todate,-1),o.base_fromdate=o.addDays(o.base_todate,-0);break;case"lastweek":o.base_fromdate=o.fixDate(new Date,!0),o.base_fromdate=o.addDays(o.base_fromdate,-1*(o.base_fromdate.getDay()+7)),o.base_todate=o.addDays(o.base_fromdate,6);break;case"lastmonth":{var e=o.fixDate(new Date,!0),t=o.addDays(e,-1*e.getDate());o.addDays(t,-1*(t.getDate()-1))}o.base_todate=o.fixDate(new Date,!0),o.base_todate=o.addDays(o.base_todate,-1*o.base_todate.getDate()),o.base_fromdate=o.addDays(o.base_todate,-1*(o.base_todate.getDate()-1))}var n=Date.dateDiff("d",o.base_fromdate,o.base_todate);o.compare_todate=o.addDays(o.base_fromdate,-1),o.compare_fromdate=o.addDays(o.compare_todate,-1*n),$($(".daterange.baserange .dateoption")[0]).val(o.formatDate(o.base_fromdate)),$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_todate)),$($(".daterange.comparerange .dateoption")[0]).val(o.formatDate(o.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_todate)),o.handleChange()}),$($(".daterange.baserange .dateoption")[0]).val(o.formatDate(o.base_fromdate)),$($(".daterange.baserange .dateoption")[1]).val(o.formatDate(o.base_todate)),$($(".daterange.comparerange .dateoption")[0]).val(o.formatDate(o.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).val(o.formatDate(o.compare_todate));var s=e.find(".jcontainer");s.off("click");var c=e.find(".picker");s.on("click",function(){$(this).hasClass("expanded")?($(this).removeClass("expanded"),c.hide()):($(this).addClass("expanded"),o.base_fromdate=o.applied_base_fromdate,o.base_todate=o.applied_base_todate,o.compare_fromdate=o.applied_compare_fromdate,o.compare_todate=o.applied_compare_todate,o.original_base_fromdate=o.applied_base_fromdate,o.original_base_todate=o.applied_base_todate,o.original_compare_fromdate=o.applied_compare_fromdate,o.original_compare_todate=o.applied_compare_todate,c.show(),c.offset({top:c.offset().top,left:s.offset().left-c.outerWidth()+s.outerWidth()}))}),t.click(function(e){e.stopPropagation()}),c.click(function(e){e.stopPropagation()}),$("body").click(function(){s.removeClass("expanded"),c.hide()}),i.find(".apply").click(function(){s.removeClass("expanded"),c.hide(),o.comparePeriod=o.isCompareChecked,o.options.canvas&&o.options.canvas.emit("datechange",o),o.DateUpdate()}),this.comparePeriod&&(this.isCompareChecked=!0),this.disableCompare&&$(".compareoption .checker").attr("disabled","disabled"),this.handleChange()},this.DateUpdate=function(){var e=this,t={};e.applied_base_fromdate=this.base_fromdate,e.applied_base_todate=this.base_todate,e.applied_compare_fromdate=this.compare_fromdate,e.applied_compare_todate=this.compare_todate,t={base_fromdate:this.applied_base_fromdate,base_todate:this.applied_base_todate,compare_fromdate:this.applied_compare_fromdate,compare_todate:this.applied_compare_todate,compare:this.comparePeriod},$(this.callbacks).each(function(n){e.callbacks[n].callback(e,t)}),o.options.canvas&&o.options.canvas.emit("datechange",t),$(o).trigger("datechange",t),$(joolaio).trigger("datechange",t)},this.formatDate=function(e){var t=function(e,t){var n=e,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=n.getFullYear(),i=o.toString().substring(2),a=n.getMonth()+1,s=10>a?"0"+a:a,c=r[a-1],u=n.getDate(),l=10>u?"0"+u:u,f=n.getMilliseconds().toString();f=100>f?10>f?"00"+f:0+f:f;var d=n.getHours(),h=10>d?"0"+d:d,p=n.getMinutes(),m=10>p?"0"+p:p,v=n.getSeconds(),g=10>v?"0"+v:v;return t=t.replace(/yyyy/i,o),t=t.replace(/yy/i,i),t=t.replace(/mmm/i,c),t=t.replace(/mm/i,s),t=t.replace(/m/i,a),t=t.replace(/dd/i,l),t=t.replace(/d/i,u),t=t.replace(/hh/i,h),t=t.replace(/nn/i,m),t=t.replace(/ss/i,g),t=t.replace(/fff/i,f)};return t(e,"mmm dd, yyyy")},this.drawCell=function(e){if(e>=this.max_date)return[!1,"daycell disabled"];if(e<=this.min_date)return[!1,"daycell disabled"];if("base-to"==this.currentMode&&e<this.base_fromdate)return[!1,"daycell disabled"];if("compare-to"==this.currentMode&&e<this.compare_fromdate)return[!1,"daycell compare disabled"];if(this.isCompareChecked){if(e==this.compare_fromdate)return[!0,"daycell compare inrange selected fromdate"];if(e==this.compare_todate)return[!0,"daycell compare inrange selected todate"];if(e>=this.base_fromdate&&e<=this.base_todate&&e>=this.compare_fromdate&&e<=this.compare_todate)return[!0,"daycell basencompare inrange"];if(e>=this.compare_fromdate&&e<=this.compare_todate)return[!0,"daycell compare inrange"];if(e>this.base_todate&&"base-to"!=this.currentMode)return[!1,"daycell compare disabled"]}if(e==this.base_fromdate)return[!0,"daycell inrange selected fromdate"];if(e==this.base_todate)return[!0,"daycell inrange selected todate"];if(e>=this.base_fromdate&&e<=this.base_todate)return[!0,"daycell inrange"];switch(this.currentMode){case"base-from":break;case"base-to":break;case"compare-from":break;case"compare-to":}return[!0,"daycell"]},this.handleChange=function(){var e=this,t=$('[jio-type="datepicker"]');switch($(".datepicker").not(this).each(function(){$(this).datepicker("refresh")}),$($(".daterange.baserange .dateoption")[1]).removeClass("active"),$($(".daterange.comparerange .dateoption")[0]).removeClass("active"),$($(".daterange.comparerange .dateoption")[1]).removeClass("active"),this.currentMode){case"base-from":e.base_fromdate<e.min_date&&(e.base_fromdate=e.min_date,$($(".daterange.baserange .dateoption")[0]).val(e.formatDate(e.base_fromdate))),e.base_fromdate>e.max_date&&(e.base_fromdate=e.max_date,$($(".daterange.baserange .dateoption")[0]).val(e.formatDate(e.base_fromdate))),$($(".daterange.baserange .dateoption")[0]).addClass("active"),$($(".daterange.baserange .dateoption")[1]).removeClass("active"),$($(".daterange.comparerange .dateoption")[0]).removeClass("active"),$($(".daterange.comparerange .dateoption")[1]).removeClass("active");break;case"base-to":e.base_todate<e.min_date&&(e.base_todate=e.min_date,$($(".daterange.baserange .dateoption")[1]).val(e.formatDate(e.base_todate))),e.base_todate>e.max_date&&(e.base_todate=e.max_date,$($(".daterange.baserange .dateoption")[1]).val(e.formatDate(e.base_todate))),$($(".daterange.baserange .dateoption")[0]).removeClass("active"),$($(".daterange.baserange .dateoption")[1]).addClass("active"),$($(".daterange.comparerange .dateoption")[0]).removeClass("active"),$($(".daterange.comparerange .dateoption")[1]).removeClass("active");break;case"compare-from":e.compare_fromdate<e.min_date&&(e.compare_fromdate=e.min_date,$($(".daterange.comparerange .dateoption")[0]).val(e.formatDate(e.compare_fromdate))),e.compare_fromdate>e.max_date&&(e.compare_fromdate=e.max_date,$($(".daterange.comparerange .dateoption")[0]).val(e.formatDate(e.compare_fromdate))),$($(".daterange.baserange .dateoption")[0]).removeClass("active"),$($(".daterange.baserange .dateoption")[1]).removeClass("active"),$($(".daterange.comparerange .dateoption")[0]).addClass("active"),$($(".daterange.comparerange .dateoption")[1]).removeClass("active");break;case"compare-to":e.compare_todate<e.min_date&&(e.compare_todate=e.min_date,$($(".daterange.comparerange .dateoption")[1]).val(e.formatDate(e.compare_todate))),e.compare_todate>e.max_date&&(e.compare_todate=e.max_date,$($(".daterange.comparerange .dateoption")[1]).val(e.formatDate(e.compare_todate))),$($(".daterange.baserange .dateoption")[0]).removeClass("active"),$($(".daterange.baserange .dateoption")[1]).removeClass("active"),$($(".daterange.comparerange .dateoption")[0]).removeClass("active"),$($(".daterange.comparerange .dateoption")[1]).addClass("active")}if((e.compare_fromdate>e.base_todate||e.compare_todate>e.base_todate)&&this.isCompareChecked){var n=Date.dateDiff("d",e.base_fromdate,e.base_todate);e.compare_todate=e.addDays(e.base_fromdate,-1),e.compare_fromdate=e.addDays(e.compare_todate,-1*n),e.compare_fromdate<e.min_date&&(e.compare_fromdate=e.min_date),$($(".daterange.comparerange .dateoption")[0]).val(e.formatDate(e.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).val(e.formatDate(e.compare_todate)),"compare-to"==this.currentMode?$($(".daterange.comparerange .dateoption")[1]).focus():"compare-from"==this.currentMode&&$($(".daterange.comparerange .dateoption")[0]).focus()}this.isCompareChecked?(t.find(".optionscontainer .checker").prop("checked",!0),t.find(".optionscontainer .daterange.comparerange").show()):(t.find(".optionscontainer .checker").prop("checked",!1),t.find(".optionscontainer .daterange.comparerange").hide()),t.find(".optionscontainer .checker").off("click"),t.find(".optionscontainer .checker").on("click",function(t){t.stopPropagation(),e.isCompareChecked=!e.isCompareChecked,e.currentMode=e.isCompareChecked?"compare-from":"base-from";var n=Date.dateDiff("d",e.base_fromdate,e.base_todate);e.compare_todate=e.addDays(e.base_fromdate,-1),e.compare_fromdate=e.addDays(e.compare_todate,-1*n),e.compare_fromdate<e.min_date&&(e.compare_fromdate=e.min_date),$($(".daterange.comparerange .dateoption")[0]).val(e.formatDate(e.compare_fromdate)),$($(".daterange.comparerange .dateoption")[1]).val(e.formatDate(e.compare_todate)),e.handleChange()}),e.options.canvas&&e.options.canvas.emit("datechanging",e),$(e).trigger("datechanging",e)};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"datepicker"},{uuid:o.uuid}],function(e){if(e)return n(e);if(joolaio.viz.onscreen.push(o),!o.options.canvas){var t=o.options.$container.parent();"canvas"==t.attr("jio-type")&&(o.options.canvas=$(t).Canvas())}return o.options.canvas&&o.options.canvas.addVisualization(o),joolaio.events.emit("datepicker.init.finish",o),"function"==typeof n?n(null,o):void 0}))})}catch(a){return n(a),o.onError(a,n)}return o};joolaio.events.on("core.init.finish",function(){"undefined"!=typeof jQuery&&($.fn.DatePicker=function(e,t){var n=null,r=this.attr("jio-uuid");if(r){var o=!1;joolaio.viz.onscreen.forEach(function(e){e.uuid!=r||o||(o=!0,n=e)})}else e||(e={}),e.container=this.get(0),n=new joolaio.viz.DatePicker(e,function(n,r){if(n)throw n;r.draw(e,t)}).options.$container;return n})})},{"./_proto":20,underscore:58}],12:[function(e,t){t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("geo.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this._id="_geo",this.uuid=joolaio.common.uuid(),this.options={legend:!0,container:null,$container:null,query:null},this.chartDrawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.draw=function(e,t){return this._super.fetch(this.options.query,function(e,n){if(e){if("function"==typeof t)return t(e)}else{var r={keepAspectRatio:!0,backgroundColor:{fill:"transparent"},datalessRegionColor:"white"},i=o._super.makeGeoSeries(n.dimensions,n.metrics,n.documents);if(o.drawn)o.options.query.realtime&&o.chart.draw(i,r);else if(o.drawn=!0,o.chart=new google.visualization.GeoChart(document.getElementById(o.options.$container.attr("id"))),o.chart.draw(i,r),"function"==typeof t)return t(null)}})};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"geo"},{uuid:o.uuid}],function(e){return e?n(e):(joolaio.viz.onscreen.push(o),joolaio.events.emit("geo.init.finish",o),"function"==typeof n?n(null,o):void 0)}))})}catch(i){return n(i),o.onError(i,n)}return o};joolaio.events.on("core.init.finish",function(){"undefined"!=typeof jQuery&&($.fn.Geo=function(e,t){var n=null,r=this.attr("jio-uuid");if(r){var o=!1;joolaio.viz.onscreen.forEach(function(e){e.uuid!=r||o||(o=!0,n=e)})}else e||(e={}),e.container=this.get(0),n=new joolaio.viz.Geo(e,function(n,r){r.draw(e,t)}).options.$container;return n})})},{"./_proto":20}],13:[function(e,t){{var n=e("cloneextend");t.exports=function(t,r){r||(r=function(){}),joolaio.events.emit("metric.init.start"),this._super={};for(var o in e("./_proto"))this[o]=n.clone(e("./_proto")[o]),this._super[o]=n.clone(e("./_proto")[o]);var i=this;this._id="_metric",this.uuid=joolaio.common.uuid(),this.options={canvas:null,legend:!0,container:null,$container:null,query:null},this.drawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.template=function(){var e=$('<div class="jio metricbox caption"></div><div class="jio metricbox value"></div>');return e},this.draw=function(e,t){return this.options.query.dimensions=[],this.options.query.metrics=this.options.query.metrics.splice(0,1),this._super.fetch(this.options.query,function(e,n){if(e){if("function"==typeof t)return t(e)}else{var r;if(r=n.documents&&n.documents.length>0?n.documents[0].fvalues[n.metrics[0].key]:0,r||(r=0),i.drawn)i.options.query.realtime&&i.options.$container.find(".value").text(r);else if(i.options.$container.append(i.template()),i.options.$container.find(".caption").text(i.options.caption||""),i.drawn=!0,i.options.$container.find(".value").text(r),"function"==typeof t)return t(null,i)}})};try{joolaio.common.mixin(i.options,t,!0),i.verify(i.options,function(e){return e?r(e):(i.options.$container=$(i.options.container),void i.markContainer(i.options.$container,[{type:"metric"},{uuid:i.uuid}],function(e){if(e)return r(e);if(joolaio.viz.onscreen.push(i),!i.options.canvas){var t=i.options.$container.parent();"canvas"==t.attr("jio-type")&&(i.options.canvas=$(t).Canvas())}return i.options.canvas&&(i.options.canvas.addVisualization(i),i.options.canvas.on("datechange",function(e){console.log("metric","datechange",e)})),joolaio.events.emit("metric.init.finish",i),"function"==typeof r?r(null,i):void 0}))})}catch(a){return r(a),i.onError(a,r)}return i}}joolaio.events.on("core.init.finish",function(){var e;"undefined"!=typeof jQuery&&($.fn.Metric=function(t,n){var r=null,o=this.attr("jio-uuid");if(!o||t&&t.force){if(t&&t.force&&o){var i=null;e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,i=t)}),e&&i&&i.destroy()}t||(t={}),t.container=this.get(0),r=new joolaio.viz.Metric(t,function(e,r){if(e)throw e;r.draw(t,n)}).options.$container}else e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,r=t)});return r})})},{"./_proto":20,cloneextend:53}],14:[function(e,t){e("underscore"),t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("minitable.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this._id="_minitable",this.uuid=joolaio.common.uuid(),this.options={legend:!0,container:null,$container:null,query:null},this.chartDrawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.template=function(){var e=$('<table class="jio minitable table"><thead></thead><tbody></tbody></table>');return e},this.sort=function(e,t){return"function"==typeof t?t(null):void 0},this._draw=function(e){return"function"==typeof e?e(null):void 0},this.draw=function(e,t){return this._super.fetch(this.options.query,function(e,n){if(e){if("function"==typeof t)return t(e);throw e}var r,i,a,s=o._super.makeTableChartSeries(n.dimensions,n.metrics,n.documents);if(o.drawn){if(o.options.query.realtime){a=o.options.$container.find("tbody").find("tr");var c=[];s[0].data.forEach(function(e){var t=0,s="",u=!1;n.dimensions.forEach(function(){s+=e[t++]}),c.push(s);for(var l=0;l<a.length;l++){i=$(a[l]);var f,d=i.find("td"),h="";for(f=0;f<n.dimensions.length;f++)r=$(d[f]),h+=r.text();if(h==s){for(;f<n.dimensions.length+n.metrics.length;f++){r=$(d[f]);var p=r.text();p!=e[f]&&r.text(e[f])}u=!0}}if(!u){var m=$(o.options.$container.find("tbody")[0]);i=$("<tr></tr>"),t=0,n.dimensions.forEach(function(){var n=$('<td class="jio minitable value dimension"></td>');n.text(e[t++]),i.append(n)}),n.metrics.forEach(function(){var n=$('<td class="jio minitable value metric"></td>');n.text(e[t++]),i.append(n)}),m.append(i)}});for(var u=0;u<a.length;u++){i=$(a[u]);var l,f=i.find("td"),d="";for(l=0;l<n.dimensions.length;l++)r=$(f[l]),d+=r.text();-1==c.indexOf(d)&&i.remove()}}}else{o.drawn=!0;var h=o.template(),p=$(h.find("thead")),m=$('<tr class="jio minitable captions"></tr>');n.dimensions.forEach(function(e){var t=$('<th class="jio minitable caption dimension"></th>');t.text(e.name),m.append(t)}),n.metrics.forEach(function(e){var t=$('<th class="jio minitable caption metric"></th>');t.text(e.name),m.append(t)}),p.append(m),h.append(p);var v=$(h.find("tbody"));if(s.forEach(function(e){e.data.forEach(function(e){var t=$("<tr></tr>"),r=0;n.dimensions.forEach(function(){var n=$('<td class="jio minitable value dimension"></td>');n.text(e[r++]),t.append(n)}),n.metrics.forEach(function(){var n=$('<td class="jio minitable value metric"></td>');n.text(e[r++]),t.append(n)}),v.append(t)})}),h.append(v),o.options.$container.append(h),o.tablesort=new Tablesort(h.get(0),{descending:!0,current:h.find("th")[1]}),"function"==typeof t)return t(null)}if(s[0].data.length>0){o.tablesort.refresh();var g=5;a=o.options.$container.find("tbody tr");for(var y=0;y<a.length;y++){var b=a[y],_=$(b);y+1>g&&_.remove()}}})};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"minitable"},{uuid:o.uuid}],function(e){return e?n(e):(joolaio.viz.onscreen.push(o),joolaio.events.emit("minitable.init.finish",o),"function"==typeof n?n(null,o):void 0)}))})}catch(i){return n(i),o.onError(i,n)}return o};joolaio.events.on("core.init.finish",function(){"undefined"!=typeof jQuery&&($.fn.MiniTable=function(e,t){var n=null,r=this.attr("jio-uuid");if(r){var o=!1;joolaio.viz.onscreen.forEach(function(e){e.uuid!=r||o||(o=!0,n=e)})}else e||(e={}),e.container=this.get(0),n=new joolaio.viz.MiniTable(e,function(n,r){r.draw(e,t)}).options.$container;return n})})},{"./_proto":20,underscore:58}],15:[function(e,t){{var n=e("underscore");t.exports=function(t,r){r||(r=function(){}),joolaio.events.emit("pie.init.start"),this._super={};for(var o in e("./_proto"))this[o]=e("./_proto")[o],this._super[o]=e("./_proto")[o];var i=this;this._id="_pie",this.uuid=joolaio.common.uuid(),this.options={legend:!0,container:null,$container:null,query:null},this.chartDrawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.draw=function(e,t){return this._super.fetch(this.options.query,function(e,r){if(e){if("function"==typeof t)return t(e)}else{var o=i._super.makePieChartSeries(r.dimensions,r.metrics,r.documents);if(i.chartDrawn)i.options.query.realtime&&o.forEach(function(e,t){i.chart.series[t].points.forEach(function(t){var r=n.find(e.data,function(e){return t.update(e[1]),e[0]==t.name});r||t.remove()}),e.data.forEach(function(e){var r=n.find(i.chart.series[t].points,function(t){return t.name==e[0]});r||i.chart.series[t].addPoint([e[0],e[1]])})});else{var a=joolaio.common.extend({title:{text:null},chart:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,borderWidth:0,plotBorderWidth:0,type:"pie",backgroundColor:"transparent"},series:o,legend:{enabled:!0},credits:{enabled:!1},exporting:{enabled:!0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"<b>{point.name}</b>: {point.percentage:.1f} %"},showInLegend:!0}}},i.options.chart);if(i.chart=i.options.$container.highcharts(a),i.chart=i.chart.highcharts(),i.chartDrawn=!0,"function"==typeof t)return t(null)}}})};try{joolaio.common.mixin(i.options,t,!0),i.verify(i.options,function(e){return e?r(e):(i.options.$container=$(i.options.container),void i.markContainer(i.options.$container,[{type:"pie"},{uuid:i.uuid}],function(e){return e?r(e):(joolaio.viz.onscreen.push(i),joolaio.events.emit("pie.init.finish",i),"function"==typeof r?r(null,i):void 0)}))})}catch(a){return r(a),i.onError(a,r)}return i}}joolaio.events.on("core.init.finish",function(){var e;"undefined"!=typeof jQuery&&($.fn.Pie=function(t,n){var r=null,o=this.attr("jio-uuid");if(!o||t.force){if(t.force&&o){var i=null;e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,i=t)}),e&&i&&i.destroy()}t||(t={}),t.container=this.get(0),r=new joolaio.viz.Pie(t,function(e,r){r.draw(t,n)}).options.$container}else e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,r=t)});return r})})},{"./_proto":20,underscore:58}],16:[function(e,t){{var n=e("underscore");t.exports=function(t,r){r||(r=function(){}),joolaio.events.emit("punchcard.init.start"),this._super={};for(var o in e("./_proto"))this[o]=e("./_proto")[o],this._super[o]=e("./_proto")[o];var i=this;this._id="_punchcard",this.uuid=joolaio.common.uuid(),this.options={legend:!0,container:null,$container:null,query:null},this.chartDrawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.makeSeries=function(e,t,r){var o,i;r.forEach(function(e){var n=e.values[t[0].key];o||(o=n),i||(i=n),n>o&&(o=n),i>n&&(i=n)});var a=function(e,t,n,r,o){var i=(r-n)*(o-e)/(t-e)+n;return isNaN(i)&&(i=o),i},s=[{name:t[0].name,data:function(){for(var s=[],c=0;7>c;c++)for(var u=0;24>u;u++){var l={y:c,x:36e5*u,marker:{radius:0}},f=n.find(r,function(t){return t.values[e[0].key]===c&&t.values[e[1].key]===u});f&&(l.marker={radius:a(i,o,3,11,f.values[t[0].key])}),s.push(l)}return s}()}];return s},this.draw=function(e,t){return this._super.fetch(this.options.query,function(e,n){if(e){if("function"==typeof t)return t(e)}else{var r=i.makeSeries(n.dimensions,n.metrics,n.documents);if(i.chartDrawn)i.options.query.realtime&&r.forEach(function(e,t){e.data.splice(0,e.data.length-1);var n=i.chart.series[t].points[i.chart.series[t].points.length-1];n&&(n.x.getTime()==e.data[0].x.getTime()?i.chart.series[t].data[i.chart.series[t].data.length-1].update(e.data[0].y):i.chart.series[t].addPoint({x:e.data[0].x,y:e.data[0].y},!0,!0))});else{var o=joolaio.common.extend({title:{text:null},chart:{defaultSeriesType:"scatter"},series:r,xAxis:{title:{text:null},type:"datetime",dateTimeLabelFormats:{hour:"%I %P"},tickInterval:36e5},yAxis:{title:{text:null},categories:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!0}},i.options.chart);if(i.chart=i.options.$container.highcharts(o),i.chart=i.chart.highcharts(),i.chartDrawn=!0,"function"==typeof t)return t(null)}}})};try{joolaio.common.mixin(i.options,t,!0),i.verify(i.options,function(e){return e?r(e):(i.options.$container=$(i.options.container),void i.markContainer(i.options.$container,[{type:"punchcard"},{uuid:i.uuid}],function(e){return e?r(e):(joolaio.viz.onscreen.push(i),joolaio.events.emit("punchcard.init.finish",i),"function"==typeof r?r(null,i):void 0)}))})}catch(a){return r(a),i.onError(a,r)}return i}}joolaio.events.on("core.init.finish",function(){"undefined"!=typeof jQuery&&($.fn.PunchCard=function(e,t){var n=null,r=this.attr("jio-uuid");if(r){var o=!1;joolaio.viz.onscreen.forEach(function(e){e.uuid!=r||o||(o=!0,n=e)})}else e||(e={}),e.container=this.get(0),n=new joolaio.viz.PunchCard(e,function(n,r){r.draw(e,t)}).options.$container;return n})})},{"./_proto":20,underscore:58}],17:[function(e,t){t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("sparkline.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this._id="_sparkline",this.uuid=joolaio.common.uuid(),this.options={legend:!0,canvas:null,container:null,$container:null,query:null},this.chartDrawn=!1,this.realtimeQueries=[],this.verify=function(e,t){return this._super.verify(e,t)},this.draw=function(e,t){return o.stop(),this._super.fetch(o,this.options.query,function(e,n){if(e){if(console.log("err",e),"function"==typeof t)return t(e)}else{n.realtime&&-1==o.realtimeQueries.indexOf(n.realtime)&&o.realtimeQueries.push(n.realtime);var r=o._super.makeChartTimelineSeries(n.dimensions,n.metrics,n.documents);if(o.chartDrawn)o.options.query.realtime&&r.forEach(function(e,t){e.data.forEach(function(e){var n,r=!1,i=!1;o.chart.series[t].points.forEach(function(a,s){a&&(e.x?a.x.getTime()==e.x.getTime()&&(n=o.chart.series[t].data[s].y,r=!0,n!=e.y&&o.chart.series[t].data[s].update(e.y)):(i=!0,a.name==e.name&&(n=o.chart.series[t].data[s].y,r=!0,n!=e.y&&o.chart.series[t].data[s].update(e.y))))}),r||(i?o.chart.series[t].addPoint({name:e.name,y:e.y},!0):o.chart.series[t].addPoint({x:e.x,y:e.y},!0,!0))})});else{var i=joolaio.common.extend({title:{text:null},chart:{marginTop:0,marginBottom:"date"===n.dimensions[0].datatype?0:20,marginLeft:0,marginRight:0,spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,borderWidth:0,plotBorderWidth:0,type:"area"},series:r,xAxis:{type:"date"===n.dimensions[0].datatype?"datetime":"category",labels:{enabled:"date"!==n.dimensions[0].datatype}},yAxis:{title:{text:null},labels:{enabled:!1}},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!0},plotOptions:{column:{allowPointSelect:!0},series:{turboThreshold:n.documents.length+1e3,color:"#333333",fillOpacity:.1,lineWidth:3,connectNulls:!0,marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}}}},o.options.chart);if(o.chart=o.options.$container.highcharts(i),o.chart=o.chart.highcharts(),o.chartDrawn=!0,"function"==typeof t)return t(null)}}})};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"sparkline"},{uuid:o.uuid}],function(e){if(e)return n(e);if(joolaio.viz.onscreen.push(o),!o.options.canvas){var t=o.options.$container.parent();"canvas"==t.attr("jio-type")&&(o.options.canvas=$(t).Canvas())}return o.options.canvas&&(o.options.canvas.addVisualization(o),o.options.canvas.on("datechange",function(e){console.log("sparkline","datechange",e),o.options.query.timeframe={},o.options.query.timeframe.start=new Date(e.base_fromdate),o.options.query.timeframe.end=new Date(e.base_todate),o.draw(o.options)})),joolaio.events.emit("sparkline.init.finish",o),"function"==typeof n?n(null,o):void 0}))})}catch(i){return n(i),o.onError(i,n)}return o};joolaio.events.on("core.init.finish",function(){var e;"undefined"!=typeof jQuery&&($.fn.Sparkline=function(t,n){var r=null,o=this.attr("jio-uuid");if(!o||t.force){if(t.force&&o){var i=null;e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,i=t)}),e&&i&&i.destroy()}t||(t={}),t.container=this.get(0),r=new joolaio.viz.Sparkline(t,function(e,r){if(e)throw e;r.draw(t,n)}).options.$container}else e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,r=t)});return r})})},{"./_proto":20}],18:[function(e,t){e("underscore"),t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("table.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this._id="_table",this.uuid=joolaio.common.uuid(),this.options={legend:!0,container:null,$container:null,query:null},this.chartDrawn=!1,this.verify=function(e,t){return this._super.verify(e,t)},this.template=function(){var e=$('<table class="jio table"><thead></thead><tbody></tbody></table>');return e},this.sort=function(e,t){return"function"==typeof t?t(null):void 0},this._draw=function(e){return"function"==typeof e?e(null):void 0},this.draw=function(e,t){return this._super.fetch(this.options.query,function(e,n){if(e){if("function"==typeof t)return t(e);throw e}var r,i,a,s=o._super.makeTableChartSeries(n.dimensions,n.metrics,n.documents);if(o.drawn){if(o.options.query.realtime){a=o.options.$container.find("tbody").find("tr");var c=[];s[0].data.forEach(function(e){var t=0,s="",u=!1;n.dimensions.forEach(function(){s+=e[t++]}),c.push(s);for(var l=0;l<a.length;l++){i=$(a[l]);var f,d=i.find("td"),h="";for(f=0;f<n.dimensions.length;f++)r=$(d[f]),h+=r.text();if(h==s){for(;f<n.dimensions.length+n.metrics.length;f++){r=$(d[f]);var p=r.text();p!=e[f]&&r.text(e[f])}u=!0}}if(!u){var m=$(o.options.$container.find("tbody")[0]);i=$("<tr></tr>"),t=0,n.dimensions.forEach(function(){var n=$('<td class="jio tbl value dimension"></td>');n.text(e[t++]),i.append(n)}),n.metrics.forEach(function(){var n=$('<td class="jio tbl value metric"></td>');n.text(e[t++]),i.append(n)}),m.append(i)}});for(var u=0;u<a.length;u++){i=$(a[u]);var l,f=i.find("td"),d="";for(l=0;l<n.dimensions.length;l++)r=$(f[l]),d+=r.text();-1==c.indexOf(d)&&i.remove()}}}else{o.drawn=!0;var h=o.template(),p=$(h.find("thead")),m=$('<tr class="jio tbl captions"></tr>');n.dimensions.forEach(function(e){var t=$('<th class="jio tbl caption dimension"></th>');t.text(e.name),m.append(t)}),n.metrics.forEach(function(e){var t=$('<th class="jio tbl caption metric"></th>');
t.text(e.name),m.append(t)}),p.append(m),h.append(p);var v=$(h.find("tbody"));if(s.forEach(function(e){e.data.forEach(function(e){var t=$("<tr></tr>"),r=0;n.dimensions.forEach(function(){var n=$('<td class="jio tbl value dimension"></td>');n.text(e[r++]),t.append(n)}),n.metrics.forEach(function(){var n=$('<td class="jio tbl value metric"></td>');n.text(e[r++]),t.append(n)}),v.append(t)})}),h.append(v),o.options.$container.append(h),o.tablesort=new Tablesort(h.get(0),{descending:!0,current:h.find("th")[1]}),"function"==typeof t)return t(null)}if(s[0].data.length>0){o.tablesort.refresh();var g=o.options.limit||5;a=o.options.$container.find("tbody tr");for(var y=0;y<a.length;y++){var b=a[y],_=$(b);y+1>g&&_.remove()}}})};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"table"},{uuid:o.uuid}],function(e){return e?n(e):(joolaio.viz.onscreen.push(o),joolaio.events.emit("table.init.finish",o),"function"==typeof n?n(null,o):void 0)}))})}catch(i){return n(i),o.onError(i,n)}return o};joolaio.events.on("core.init.finish",function(){var e;"undefined"!=typeof jQuery&&($.fn.Table=function(t,n){var r=null,o=this.attr("jio-uuid");if(!o||t.force){if(t.force&&o){var i=null;e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,i=t)}),e&&i&&i.destroy()}t||(t={}),t.container=this.get(0),r=new joolaio.viz.Table(t,function(e,r){e&&console.error(e),r.draw(t,n)}).options.$container}else e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,r=t)});return r})})},{"./_proto":20,underscore:58}],19:[function(e,t){e("moment"),e("underscore"),t.exports=function(t,n){n||(n=function(){}),joolaio.events.emit("timeline.init.start"),this._super={};for(var r in e("./_proto"))this[r]=e("./_proto")[r],this._super[r]=e("./_proto")[r];var o=this;this._id="_timeline",this.uuid=joolaio.common.uuid(),this.options={legend:!0,canvas:null,container:null,$container:null,query:null},this.chartDrawn=!1,this.realtimeQueries=[],this.verify=function(e,t){return this._super.verify(e,t)},this.draw=function(e,t){return o.stop(),this._super.fetch(o,this.options.query,function(e,n){if(e){if(console.log("err",e),"function"==typeof t)return t(e)}else{n.realtime&&-1==o.realtimeQueries.indexOf(n.realtime)&&o.realtimeQueries.push(n.realtime);{var r=o._super.makeChartTimelineSeries(n.dimensions,n.metrics,n.documents);!(n.dimensions&&n.dimensions.length>0&&"date"==n.dimensions[0].datatype)}if(o.chartDrawn)o.options.query.realtime&&r.forEach(function(e,t){e.data.forEach(function(e){var n,r=!1,i=!1;o.chart.series[t].points.forEach(function(a,s){a&&(e.x?a.x.getTime()==e.x.getTime()&&(n=o.chart.series[t].data[s].y,r=!0,n!=e.y&&o.chart.series[t].data[s].update(e.y)):(i=!0,a.name==e.name&&(n=o.chart.series[t].data[s].y,r=!0,n!=e.y&&o.chart.series[t].data[s].update(e.y))))}),r||(i?o.chart.series[t].addPoint({name:e.name,y:e.y},!0):o.chart.series[t].addPoint({x:e.x,y:e.y},!0,!0))})});else{var i=joolaio.common.extend({title:{text:null},chart:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,borderWidth:0,plotBorderWidth:0,type:"area"},series:r,xAxis:{type:"date"===n.dimensions[0].datatype?"datetime":"category",endOnTick:!1,tickWidth:0,dateTimeLabelFormats:{day:"%B %e"},labels:{enabled:!0,style:{color:"#b3b3b1"}}},yAxis:{endOnTick:!1,title:{text:null},labels:{enabled:!0,style:{color:"#b3b3b1"}},gridLineDashStyle:"Dot"},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!0},plotOptions:{column:{allowPointSelect:!0},series:{turboThreshold:n.documents.length+1e3,color:"#333333",fillOpacity:.1,lineWidth:3,connectNulls:!0,marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}}}},o.options.chart);if(o.chart=o.options.$container.highcharts(i),o.chart=o.chart.highcharts(),o.chartDrawn=!0,"function"==typeof t)return t(null)}}})};try{joolaio.common.mixin(o.options,t,!0),o.verify(o.options,function(e){return e?n(e):(o.options.$container=$(o.options.container),void o.markContainer(o.options.$container,[{type:"timeline"},{uuid:o.uuid}],function(e){if(e)return n(e);if(joolaio.viz.onscreen.push(o),!o.options.canvas){var t=o.options.$container.parent();"canvas"==t.attr("jio-type")&&(o.options.canvas=$(t).Canvas())}return o.options.canvas&&(o.options.canvas.addVisualization(o),o.options.canvas.on("datechange",function(e){o.options.query.timeframe={},o.options.query.timeframe.start=new Date(e.base_fromdate),o.options.query.timeframe.end=new Date(e.base_todate),o.draw(o.options)})),joolaio.events.emit("timeline.init.finish",o),"function"==typeof n?n(null,o):void 0}))})}catch(i){return n(i),o.onError(i,n)}return o};joolaio.events.on("core.init.finish",function(){var e;"undefined"!=typeof jQuery&&($.fn.Timeline=function(t,n){var r=null,o=this.attr("jio-uuid");if(!o||t.force){if(t.force&&o){var i=null;e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,i=t)}),e&&i&&i.destroy()}t||(t={}),t.container=this.get(0),r=new joolaio.viz.Timeline(t,function(e,r){if(e)throw e;r.draw(t,n)}).options.$container}else e=!1,joolaio.viz.onscreen.forEach(function(t){t.uuid!=o||e||(e=!0,r=t)});return r})})},{"./_proto":20,moment:55,underscore:58}],20:[function(e,t,n){var r=e("cloneextend"),o=(e("moment"),e("underscore")),i=n;i._id="_proto",i.stop=function(){this.realtimeQueries&&this.realtimeQueries.forEach(function(e){joolaio.logger.debug("Stopping realtime query ["+e+"]."),joolaio.query.stop(e)})},i.destroy=function(){this.realtimeQueries&&this.realtimeQueries.forEach(function(e){joolaio.logger.debug("Stopping realtime query ["+e+"]."),joolaio.query.stop(e)}),this.options.$container.empty()},i.markContainer=function(e,t,n){n||(n=function(){});try{e.attr("jio-domain","joolaio"),t.forEach(function(t){Object.keys(t).forEach(function(n){e.attr("jio-"+n,t[n])})})}catch(r){return n(r)}return n(null)},i.get=function(e){return this.options[e]},i.set=function(e,t){this.options[e]=t},i.verify=function(e,t){if(!e.container)return t(new Error("no container specified for timeline."));var n=$(e.container);return t(null===n?new Error("cannot find container for the timeline."):null)},i.fetch=function(e,t,n){!n&&e&&t&&(n=t,t=e);var o=r.clone(t);e&&e.options&&e.options.canvas&&(e.options.query.interval=e.options.query.interval||e.options.canvas.options.query.interval,e.options.query.timeframe=e.options.query.timeframe||e.options.canvas.options.query.timeframe),o.timeframe&&"object"==typeof o.timeframe&&(o.timeframe.start.setHours(o.timeframe.start.getHours()+joolaio.timezone(joolaio.options.timezoneOffset)),o.timeframe.end.setHours(o.timeframe.end.getHours()+joolaio.timezone(joolaio.options.timezoneOffset))),joolaio.dispatch.query.fetch(o,function(e,t){return e?n(e):(t&&t.query&&t.query.ts&&t.query.ts.duration&&joolaio.logger.debug("fetch took: "+t.query.ts.duration.toString()+"ms, results: "+(t&&t.documents?t.documents.length.toString():"n/a")),n(null,t))})},i.makeChartTimelineSeries=function(e,t,n){var r=[];if(!t)return r;o.find(e,function(e){return"date"===e.datatype});return t.forEach(function(o,i){r[i]={name:o.name,data:[]},n.forEach(function(n){var o=n.fvalues[e[0].key],a=!0;"date"===e[0].datatype&&(o=new Date(n.fvalues[e[0].key]),a=!1),r[i].data.push(a?{name:o,y:n.values[t[i].key]?n.values[t[i].key]:0}:{x:o,y:n.values[t[i].key]?n.values[t[i].key]:0})})}),r},i.makePieChartSeries=function(e,t,n){var r=[];return t?(t.forEach(function(o,i){r[i]={name:o.name,data:[]},n.forEach(function(n){r[i].data.push([n.fvalues[e[0].key],n.values[t[i].key]?n.values[t[i].key]:0])})}),r):r},i.makeTableChartSeries=function(e,t,n){var r=[];return t?(r[0]={data:[]},n.forEach(function(n){var o=[];e.forEach(function(e){o.push(n.fvalues[e.key])}),t.forEach(function(e){o.push(n.fvalues[e.key]?n.fvalues[e.key]:0)}),r[0].data.push(o)}),r):r},i.makeGeoSeries=function(e,t,n){var r=[];return r.push(["Country",t[0].name]),"ip"!=e[0].datatype?r:(n.forEach(function(n){n.fvalues[e[0].key]&&"(not set)"!=n.fvalues[e[0].key]&&r.push([n.fvalues[e[0].key].country,n.fvalues[t[0].key]])}),google.visualization.arrayToDataTable(r))},i.baseHTML=function(e){return e(null,"<br/>")},i.onError=function(e,t){return joolaio.logger.error(e&&e.message?e.message:e),t(e)},i.find=function(){}},{cloneextend:53,moment:55,underscore:58}],21:[function(e,t,n){var r=n;r._id="viz",r.DatePicker=e("./DatePicker"),r.Canvas=e("./Canvas"),r.Sparkline=e("./Sparkline"),r.Metric=e("./Metric"),r.Geo=e("./Geo"),r.Pie=e("./Pie"),r.MiniTable=e("./MiniTable"),r.PunchCard=e("./PunchCard"),r.Table=e("./Table"),r.Timeline=e("./Timeline"),r.onscreen=[],r.stam=function(e){return r.pickers.init(e)}},{"./Canvas":10,"./DatePicker":11,"./Geo":12,"./Metric":13,"./MiniTable":14,"./Pie":15,"./PunchCard":16,"./Sparkline":17,"./Table":18,"./Timeline":19}],22:[function(e,t,n){function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var o=typeof e;if("base64"===t&&"string"===o)for(e=$(e);e.length%4!==0;)e+="=";var i;if("number"===o)i=D(e);else if("string"===o)i=r.byteLength(e,t);else{if("object"!==o)throw new Error("First argument needs to be a number, array or string.");i=D(e.length)}var a;r._useTypedArrays?a=r._augment(new Uint8Array(i)):(a=this,a.length=i,a._isBuffer=!0);var s;if(r._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(A(e))for(s=0;i>s;s++)a[s]=r.isBuffer(e)?e.readUInt8(s):e[s];else if("string"===o)a.write(e,0,t);else if("number"===o&&!r._useTypedArrays&&!n)for(s=0;i>s;s++)a[s]=0;return a}function o(e,t,n,o){n=Number(n)||0;var i=e.length-n;o?(o=Number(o),o>i&&(o=i)):o=i;var a=t.length;F(a%2===0,"Invalid hex string"),o>a/2&&(o=a/2);for(var s=0;o>s;s++){var c=parseInt(t.substr(2*s,2),16);F(!isNaN(c),"Invalid hex string"),e[n+s]=c}return r._charsWritten=2*s,s}function i(e,t,n,o){var i=r._charsWritten=B(L(t),e,n,o);return i}function a(e,t,n,o){var i=r._charsWritten=B(I(t),e,n,o);return i}function s(e,t,n,r){return a(e,t,n,r)}function c(e,t,n,o){var i=r._charsWritten=B(W(t),e,n,o);return i}function u(e,t,n,o){var i=r._charsWritten=B(N(t),e,n,o);return i}function l(e,t,n){return Y.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function f(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;n>i;i++)e[i]<=127?(r+=P(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+P(o)}function d(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(e[o]);return r}function h(e,t,n){return d(e,t,n)}function p(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=t;n>i;i++)o+=O(e[i]);return o}function m(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function v(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return n?(i=e[t],o>t+1&&(i|=e[t+1]<<8)):(i=e[t]<<8,o>t+1&&(i|=e[t+1])),i}}function g(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return n?(o>t+2&&(i=e[t+2]<<16),o>t+1&&(i|=e[t+1]<<8),i|=e[t],o>t+3&&(i+=e[t+3]<<24>>>0)):(o>t+1&&(i=e[t+1]<<16),o>t+2&&(i|=e[t+2]<<8),o>t+3&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}}function y(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i=v(e,t,n,!0),a=32768&i;return a?-1*(65535-i+1):i}}function b(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(void 0!==t&&null!==t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i=g(e,t,n,!0),a=2147483648&i;return a?-1*(4294967295-i+1):i}}function _(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),z.read(e,t,n,23,4)}function w(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),z.read(e,t,n,52,8)}function k(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+1<e.length,"trying to write beyond buffer length"),q(t,65535));var i=e.length;if(!(n>=i))for(var a=0,s=Math.min(i-n,2);s>a;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function E(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"trying to write beyond buffer length"),q(t,4294967295));var i=e.length;if(!(n>=i))for(var a=0,s=Math.min(i-n,4);s>a;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function x(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+1<e.length,"Trying to write beyond buffer length"),R(t,32767,-32768));var i=e.length;n>=i||(t>=0?k(e,t,n,r,o):k(e,65535+t+1,n,r,o))}function j(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),R(t,2147483647,-2147483648));var i=e.length;n>=i||(t>=0?E(e,t,n,r,o):E(e,4294967295+t+1,n,r,o))}function S(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),U(t,3.4028234663852886e38,-3.4028234663852886e38));var i=e.length;n>=i||z.write(e,t,n,r,23,4)}function C(e,t,n,r,o){o||(F(void 0!==t&&null!==t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(void 0!==n&&null!==n,"missing offset"),F(n+7<e.length,"Trying to write beyond buffer length"),U(t,1.7976931348623157e308,-1.7976931348623157e308));var i=e.length;n>=i||z.write(e,t,n,r,52,8)}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e,t,n){return"number"!=typeof e?n:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function D(e){return e=~~Math.ceil(+e),0>e?0:e}function M(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function A(e){return M(e)||r.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function O(e){return 16>e?"0"+e.toString(16):e.toString(16)}function L(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(e.charCodeAt(n));else{var o=n;r>=55296&&57343>=r&&n++;for(var i=encodeURIComponent(e.slice(o,n+1)).substr(1).split("%"),a=0;a<i.length;a++)t.push(parseInt(i[a],16))}}return t}function I(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function N(e){for(var t,n,r,o=[],i=0;i<e.length;i++)t=e.charCodeAt(i),n=t>>8,r=t%256,o.push(r),o.push(n);return o}function W(e){return Y.toByteArray(e)}function B(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function P(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function q(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(e>=0,"specified a negative value for writing an unsigned value"),F(t>=e,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(t>=e,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function U(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(t>=e,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}var Y=e("base64-js"),z=e("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){if("function"!=typeof Uint8Array||"function"!=typeof ArrayBuffer)return!1;try{var e=new Uint8Array(0);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},r.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=L(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=W(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(e,t){if(F(M(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new r(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var o=new r(t),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(o,i),i+=a.length}return o},r.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var l=r;r=t,t=n,n=l}t=Number(t)||0;var f=this.length-t;n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase();var d;switch(r){case"hex":d=o(this,e,t,n);break;case"utf8":case"utf-8":d=i(this,e,t,n);break;case"ascii":d=a(this,e,t,n);break;case"binary":d=s(this,e,t,n);break;case"base64":d=c(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":d=u(this,e,t,n);break;default:throw new Error("Unknown encoding")}return d},r.prototype.toString=function(e,t,n){var r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,n=void 0!==n?Number(n):n=r.length,n===t)return"";var o;switch(e){case"hex":o=p(r,t,n);break;case"utf8":case"utf-8":o=f(r,t,n);break;case"ascii":o=d(r,t,n);break;case"binary":o=h(r,t,n);break;case"base64":o=l(r,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=m(r,t,n);break;default:throw new Error("Unknown encoding")}return o},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(e,t,n,o){var i=this;if(n||(n=0),o||0===o||(o=this.length),t||(t=0),o!==n&&0!==e.length&&0!==i.length){F(o>=n,"sourceEnd < sourceStart"),F(t>=0&&t<e.length,"targetStart out of bounds"),F(n>=0&&n<i.length,"sourceStart out of bounds"),F(o>=0&&o<=i.length,"sourceEnd out of bounds"),o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var a=o-n;if(100>a||!r._useTypedArrays)for(var s=0;a>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+a),t)}},r.prototype.slice=function(e,t){var n=this.length;if(e=T(e,n,0),t=T(t,n,n),r._useTypedArrays)return r._augment(this.subarray(e,t));for(var o=t-e,i=new r(o,void 0,!0),a=0;o>a;a++)i[a]=this[a+e];return i},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.readUInt8=function(e,t){return t||(F(void 0!==e&&null!==e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},r.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},r.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},r.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},r.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},r.prototype.readInt8=function(e,t){if(t||(F(void 0!==e&&null!==e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var n=128&this[e];return n?-1*(255-this[e]+1):this[e]}},r.prototype.readInt16LE=function(e,t){return y(this,e,!0,t)},r.prototype.readInt16BE=function(e,t){return y(this,e,!1,t)},r.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},r.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},r.prototype.readFloatLE=function(e,t){return _(this,e,!0,t)},r.prototype.readFloatBE=function(e,t){return _(this,e,!1,t)},r.prototype.readDoubleLE=function(e,t){return w(this,e,!0,t)},r.prototype.readDoubleBE=function(e,t){return w(this,e,!1,t)},r.prototype.writeUInt8=function(e,t,n){n||(F(void 0!==e&&null!==e,"missing value"),F(void 0!==t&&null!==t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),q(e,255)),t>=this.length||(this[t]=e)},r.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!0,n)},r.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!1,n)},r.prototype.writeUInt32LE=function(e,t,n){E(this,e,t,!0,n)},r.prototype.writeUInt32BE=function(e,t,n){E(this,e,t,!1,n)},r.prototype.writeInt8=function(e,t,n){n||(F(void 0!==e&&null!==e,"missing value"),F(void 0!==t&&null!==t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),R(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},r.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},r.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},r.prototype.writeInt32LE=function(e,t,n){j(this,e,t,!0,n)},r.prototype.writeInt32BE=function(e,t,n){j(this,e,t,!1,n)},r.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){C(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){C(this,e,t,!1,n)},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),F("number"==typeof e&&!isNaN(e),"value is not a number"),F(n>=t,"end < start"),n!==t&&0!==this.length){F(t>=0&&t<this.length,"start out of bounds"),F(n>=0&&n<=this.length,"end out of bounds");for(var r=t;n>r;r++)this[r]=e}},r.prototype.inspect=function(){for(var e=[],t=this.length,r=0;t>r;r++)if(e[r]=O(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(r._useTypedArrays)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var H=r.prototype;r._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=H.get,e.set=H.set,e.write=H.write,e.toString=H.toString,e.toLocaleString=H.toString,e.toJSON=H.toJSON,e.copy=H.copy,e.slice=H.slice,e.readUInt8=H.readUInt8,e.readUInt16LE=H.readUInt16LE,e.readUInt16BE=H.readUInt16BE,e.readUInt32LE=H.readUInt32LE,e.readUInt32BE=H.readUInt32BE,e.readInt8=H.readInt8,e.readInt16LE=H.readInt16LE,e.readInt16BE=H.readInt16BE,e.readInt32LE=H.readInt32LE,e.readInt32BE=H.readInt32BE,e.readFloatLE=H.readFloatLE,e.readFloatBE=H.readFloatBE,e.readDoubleLE=H.readDoubleLE,e.readDoubleBE=H.readDoubleBE,e.writeUInt8=H.writeUInt8,e.writeUInt16LE=H.writeUInt16LE,e.writeUInt16BE=H.writeUInt16BE,e.writeUInt32LE=H.writeUInt32LE,e.writeUInt32BE=H.writeUInt32BE,e.writeInt8=H.writeInt8,e.writeInt16LE=H.writeInt16LE,e.writeInt16BE=H.writeInt16BE,e.writeInt32LE=H.writeInt32LE,e.writeInt32BE=H.writeInt32BE,e.writeFloatLE=H.writeFloatLE,e.writeFloatBE=H.writeFloatBE,e.writeDoubleLE=H.writeDoubleLE,e.writeDoubleBE=H.writeDoubleBE,e.fill=H.fill,e.inspect=H.inspect,e.toArrayBuffer=H.toArrayBuffer,e}},{"base64-js":23,ieee754:24}],23:[function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function e(e){var t=e.charCodeAt(0);return t===a?62:t===s?63:c>t?-1:c+10>t?t-c+26+26:l+26>t?t-l:u+26>t?t-u+26:void 0}function r(t){function n(e){u[f++]=e}var r,o,a,s,c,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;c="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,u=new i(3*t.length/4-c),a=c>0?t.length-4:t.length;var f=0;for(r=0,o=0;a>r;r+=4,o+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===c&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function o(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,c="";for(o=0,a=e.length-s;a>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],c+=r(i);switch(s){case 1:i=e[e.length-1],c+=t(i>>2),c+=t(i<<4&63),c+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],c+=t(i>>10),c+=t(i>>4&63),c+=t(i<<2&63),c+="="}return c}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a=("0".charCodeAt(0),"+".charCodeAt(0)),s="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0);t.exports.toByteArray=r,t.exports.fromByteArray=o}()},{}],24:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?0/0:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+f>=1?d/c:d*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},{}],25:[function(e,t){function n(e,t){if(e.length%a!==0){var n=e.length+(a-e.length%a);e=i.concat([e,s],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,c=0;c<e.length;c+=a)r.push(o.call(e,c));return r}function r(e,t,n){for(var r=new i(t),o=n?r.writeInt32BE:r.writeInt32LE,a=0;a<e.length;a++)o.call(r,e[a],4*a,!0);return r}function o(e,t,o,a){i.isBuffer(e)||(e=new i(e));var s=t(n(e,a),e.length*c);return r(s,o,a)}var i=e("buffer").Buffer,a=4,s=new i(a);s.fill(0);var c=8;t.exports={hash:o}},{buffer:22}],26:[function(e,t,n){function r(e,t,n){s.isBuffer(t)||(t=new s(t)),s.isBuffer(n)||(n=new s(n)),t.length>h?t=e(t):t.length<h&&(t=s.concat([t,p],h));for(var r=new s(h),o=new s(h),i=0;h>i;i++)r[i]=54^t[i],o[i]=92^t[i];var a=e(s.concat([r,n]));return e(s.concat([o,a]))}function o(e,t){e=e||"sha1";var n=d[e],o=[],a=0;return n||i("algorithm:",e,"is not yet supported"),{update:function(e){return s.isBuffer(e)||(e=new s(e)),o.push(e),a+=e.length,this},digest:function(e){var i=s.concat(o),a=t?r(n,t,i):n(i);return o=null,e?a.toString(e):a}}}function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function a(e,t){for(var n in e)t(e[n],n)}var s=e("buffer").Buffer,c=e("./sha"),u=e("./sha256"),l=e("./rng"),f=e("./md5"),d={sha1:c,sha256:u,md5:f},h=64,p=new s(h);p.fill(0),n.createHash=function(e){return o(e)},n.createHmac=function(e,t){return o(e,t)},n.randomBytes=function(e,t){if(!t||!t.call)return new s(l(e));try{t.call(this,void 0,new s(l(e)))}catch(n){t(n)}},a(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){n[e]=function(){i("sorry,",e,"is not implemented yet")}})},{"./md5":27,"./rng":28,"./sha":29,"./sha256":30,buffer:22}],27:[function(e,t){function n(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,u=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,h=r,p=u,m=l;n=o(n,r,u,l,e[f+0],7,-680876936),l=o(l,n,r,u,e[f+1],12,-389564586),u=o(u,l,n,r,e[f+2],17,606105819),r=o(r,u,l,n,e[f+3],22,-1044525330),n=o(n,r,u,l,e[f+4],7,-176418897),l=o(l,n,r,u,e[f+5],12,1200080426),u=o(u,l,n,r,e[f+6],17,-1473231341),r=o(r,u,l,n,e[f+7],22,-45705983),n=o(n,r,u,l,e[f+8],7,1770035416),l=o(l,n,r,u,e[f+9],12,-1958414417),u=o(u,l,n,r,e[f+10],17,-42063),r=o(r,u,l,n,e[f+11],22,-1990404162),n=o(n,r,u,l,e[f+12],7,1804603682),l=o(l,n,r,u,e[f+13],12,-40341101),u=o(u,l,n,r,e[f+14],17,-1502002290),r=o(r,u,l,n,e[f+15],22,1236535329),n=i(n,r,u,l,e[f+1],5,-165796510),l=i(l,n,r,u,e[f+6],9,-1069501632),u=i(u,l,n,r,e[f+11],14,643717713),r=i(r,u,l,n,e[f+0],20,-373897302),n=i(n,r,u,l,e[f+5],5,-701558691),l=i(l,n,r,u,e[f+10],9,38016083),u=i(u,l,n,r,e[f+15],14,-660478335),r=i(r,u,l,n,e[f+4],20,-405537848),n=i(n,r,u,l,e[f+9],5,568446438),l=i(l,n,r,u,e[f+14],9,-1019803690),u=i(u,l,n,r,e[f+3],14,-187363961),r=i(r,u,l,n,e[f+8],20,1163531501),n=i(n,r,u,l,e[f+13],5,-1444681467),l=i(l,n,r,u,e[f+2],9,-51403784),u=i(u,l,n,r,e[f+7],14,1735328473),r=i(r,u,l,n,e[f+12],20,-1926607734),n=a(n,r,u,l,e[f+5],4,-378558),l=a(l,n,r,u,e[f+8],11,-2022574463),u=a(u,l,n,r,e[f+11],16,1839030562),r=a(r,u,l,n,e[f+14],23,-35309556),n=a(n,r,u,l,e[f+1],4,-1530992060),l=a(l,n,r,u,e[f+4],11,1272893353),u=a(u,l,n,r,e[f+7],16,-155497632),r=a(r,u,l,n,e[f+10],23,-1094730640),n=a(n,r,u,l,e[f+13],4,681279174),l=a(l,n,r,u,e[f+0],11,-358537222),u=a(u,l,n,r,e[f+3],16,-722521979),r=a(r,u,l,n,e[f+6],23,76029189),n=a(n,r,u,l,e[f+9],4,-640364487),l=a(l,n,r,u,e[f+12],11,-421815835),u=a(u,l,n,r,e[f+15],16,530742520),r=a(r,u,l,n,e[f+2],23,-995338651),n=s(n,r,u,l,e[f+0],6,-198630844),l=s(l,n,r,u,e[f+7],10,1126891415),u=s(u,l,n,r,e[f+14],15,-1416354905),r=s(r,u,l,n,e[f+5],21,-57434055),n=s(n,r,u,l,e[f+12],6,1700485571),l=s(l,n,r,u,e[f+3],10,-1894986606),u=s(u,l,n,r,e[f+10],15,-1051523),r=s(r,u,l,n,e[f+1],21,-2054922799),n=s(n,r,u,l,e[f+8],6,1873313359),l=s(l,n,r,u,e[f+15],10,-30611744),u=s(u,l,n,r,e[f+6],15,-1560198380),r=s(r,u,l,n,e[f+13],21,1309151649),n=s(n,r,u,l,e[f+4],6,-145523070),l=s(l,n,r,u,e[f+11],10,-1120210379),u=s(u,l,n,r,e[f+2],15,718787259),r=s(r,u,l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,h),u=c(u,p),l=c(l,m)}return Array(n,r,u,l)}function r(e,t,n,r,o,i){return c(u(c(c(t,e),c(r,i)),o),n)}function o(e,t,n,o,i,a,s){return r(t&n|~t&o,e,t,i,a,s)}function i(e,t,n,o,i,a,s){return r(t&o|n&~o,e,t,i,a,s)}function a(e,t,n,o,i,a,s){return r(t^n^o,e,t,i,a,s)}function s(e,t,n,o,i,a,s){return r(n^(t|~o),e,t,i,a,s)}function c(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var l=e("./helpers");t.exports=function(e){return l.hash(e,n,16)}},{"./helpers":25}],28:[function(e,t){!function(){var e,n,r=this;e=function(e){for(var t,t,n=new Array(e),r=0;e>r;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},r.crypto&&crypto.getRandomValues&&(n=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=n||e}()},{}],29:[function(e,t){function n(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var n=Array(80),s=1732584193,c=-271733879,u=-1732584194,l=271733878,f=-1009589776,d=0;d<e.length;d+=16){for(var h=s,p=c,m=u,v=l,g=f,y=0;80>y;y++){n[y]=16>y?e[d+y]:a(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var b=i(i(a(s,5),r(y,c,u,l)),i(i(f,n[y]),o(y)));f=l,l=u,u=a(c,30),c=s,s=b}s=i(s,h),c=i(c,p),u=i(u,m),l=i(l,v),f=i(f,g)}return Array(s,c,u,l,f)}function r(e,t,n,r){return 20>e?t&n|~t&r:40>e?t^n^r:60>e?t&n|t&r|n&r:t^n^r}function o(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function i(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}var s=e("./helpers");t.exports=function(e){return s.hash(e,n,20,!0)}},{"./helpers":25}],30:[function(e,t){var n=e("./helpers"),r=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},o=function(e,t){return e>>>t|e<<32-t},i=function(e,t){return e>>>t},a=function(e,t,n){return e&t^~e&n},s=function(e,t,n){return e&t^e&n^t&n},c=function(e){return o(e,2)^o(e,13)^o(e,22)},u=function(e){return o(e,6)^o(e,11)^o(e,25)},l=function(e){return o(e,7)^o(e,18)^i(e,3)
},f=function(e){return o(e,17)^o(e,19)^i(e,10)},d=function(e,t){var n,o,i,d,h,p,m,v,g,y,b,_,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var g=0;g<e.length;g+=16){n=k[0],o=k[1],i=k[2],d=k[3],h=k[4],p=k[5],m=k[6],v=k[7];for(var y=0;64>y;y++)E[y]=16>y?e[y+g]:r(r(r(f(E[y-2]),E[y-7]),l(E[y-15])),E[y-16]),b=r(r(r(r(v,u(h)),a(h,p,m)),w[y]),E[y]),_=r(c(n),s(n,o,i)),v=m,m=p,p=h,h=r(d,b),d=i,i=o,o=n,n=r(b,_);k[0]=r(n,k[0]),k[1]=r(o,k[1]),k[2]=r(i,k[2]),k[3]=r(d,k[3]),k[4]=r(h,k[4]),k[5]=r(p,k[5]),k[6]=r(m,k[6]),k[7]=r(v,k[7])}return k};t.exports=function(e){return n.hash(e,d,32,!0)}},{"./helpers":25}],31:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,s=new Array(o-1),c=1;o>c;c++)s[c-1]=arguments[c];n.apply(this,s)}else if(i(n)){for(o=arguments.length,s=new Array(o-1),c=1;o>c;c++)s[c-1]=arguments[c];for(u=n.slice(),o=u.length,c=0;o>c;c++)u[c].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned){var o;o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],32:[function(e,t){var n=t.exports,r=(e("events").EventEmitter,e("./lib/request")),o=e("url");n.request=function(e,t){"string"==typeof e&&(e=o.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.scheme||(e.scheme=window.location.protocol.split(":")[0]),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https"==e.scheme?443:80);var n=new r(new i,e);return t&&n.on("response",t),n},n.get=function(e,t){e.method="GET";var r=n.request(e,t);return r.end(),r},n.Agent=function(){},n.Agent.defaultMaxSockets=4;var i=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();n.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":33,events:31,url:50}],33:[function(e,t){var n=e("stream"),r=e("./response"),o=e("Base64"),i=e("inherits"),a=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.scheme||"http")+"://"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(i){}if(e.open(t.method||"GET",n.uri,!0),n._headers={},t.headers)for(var a=s(t.headers),c=0;c<a.length;c++){var u=a[c];if(n.isSafeRequestHeader(u)){var l=t.headers[u];n.setHeader(u,l)}}t.auth&&this.setHeader("Authorization","Basic "+o.btoa(t.auth));var f=new r;f.on("close",function(){n.emit("close")}),f.on("ready",function(){n.emit("response",f)}),e.onreadystatechange=function(){e.__aborted||f.handle(e)}};i(a,n),a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},a.prototype.write=function(e){this.body.push(e)},a.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},a.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=s(this._headers),n=0;n<t.length;n++){var r=t[n],o=this._headers[r];if(c(o))for(var i=0;i<o.length;i++)this.xhr.setRequestHeader(r,o[i]);else this.xhr.setRequestHeader(r,o)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(c(this.body[0])){for(var a=[],n=0;n<this.body.length;n++)a.push.apply(a,this.body[n]);this.xhr.send(a)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var u=0,n=0;n<this.body.length;n++)u+=this.body[n].length;for(var a=new this.body[0].constructor(u),l=0,n=0;n<this.body.length;n++)for(var f=this.body[n],i=0;i<f.length;i++)a[l++]=f[i];this.xhr.send(a)}else{for(var a="",n=0;n<this.body.length;n++)a+=this.body[n].toString();this.xhr.send(a)}},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?-1===u(a.unsafeHeaders,e.toLowerCase()):!1};var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}},{"./response":34,Base64:35,inherits:37,stream:43}],34:[function(e,t){function n(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var o=t[r];if(""!==o){var i=o.match(/^([^:]+):\s*(.*)/);if(i){var a=i[1].toLowerCase(),c=i[2];void 0!==n[a]?s(n[a])?n[a].push(c):n[a]=[n[a],c]:n[a]=c}else n[o]=!0}}return n}var r=e("stream"),o=e("util"),i=t.exports=function(){this.offset=0,this.readable=!0};o.inherits(i,r);var a={streaming:!0,status2:!0};i.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},i.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},i.prototype.handle=function(e){if(2===e.readyState&&a.status2){try{this.statusCode=e.status,this.headers=n(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=n(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){a.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},i.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:43,util:52}],35:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,o,i=0,a=r,s="";t.charAt(0|i)||(a="=",i%1);s+=a.charAt(63&n>>8-i%1*8)){if(o=t.charCodeAt(i+=.75),o>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)o=r.indexOf(o);return s})}()},{}],36:[function(e,t){var n=e("http"),r=t.exports;for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);r.request=function(e,t){return e||(e={}),e.scheme="https",n.request.call(this,e,t)}},{http:32}],37:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],38:[function(e,t,n){(function(e){!function(r){function o(e){throw RangeError(O[e])}function i(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function a(e,t){return i(e.split(A),t).join(".")}function s(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function u(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?I(e/S):e>>1,e+=I(e/t);e>L*x>>1;r+=k)e=I(e/L);return I(r+(L+1)*e/(e+j))}function d(e){var t,n,r,i,a,s,l,d,h,p,m=[],v=e.length,g=0,y=$,b=C;for(n=e.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;v>i;){for(a=g,s=1,l=k;i>=v&&o("invalid-input"),d=u(e.charCodeAt(i++)),(d>=k||d>I((w-g)/s))&&o("overflow"),g+=d*s,h=b>=l?E:l>=b+x?x:l-b,!(h>d);l+=k)p=k-h,s>I(w/p)&&o("overflow"),s*=p;t=m.length+1,b=f(g-a,t,0==a),I(g/t)>w-y&&o("overflow"),y+=I(g/t),g%=t,m.splice(g++,0,y)}return c(m)}function h(e){var t,n,r,i,a,c,u,d,h,p,m,v,g,y,b,_=[];for(e=s(e),v=e.length,t=$,n=0,a=C,c=0;v>c;++c)m=e[c],128>m&&_.push(N(m));for(r=i=_.length,i&&_.push(T);v>r;){for(u=w,c=0;v>c;++c)m=e[c],m>=t&&u>m&&(u=m);for(g=r+1,u-t>I((w-n)/g)&&o("overflow"),n+=(u-t)*g,t=u,c=0;v>c;++c)if(m=e[c],t>m&&++n>w&&o("overflow"),m==t){for(d=n,h=k;p=a>=h?E:h>=a+x?x:h-a,!(p>d);h+=k)b=d-p,y=k-p,_.push(N(l(p+b%y,0))),d=I(b/y);_.push(N(l(d,0))),a=f(n,g,r==i),n=0,++r}++n,++t}return _.join("")}function p(e){return a(e,function(e){return D.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return M.test(e)?"xn--"+h(e):e})}var v="object"==typeof n&&n,g="object"==typeof t&&t&&t.exports==v&&t,y="object"==typeof e&&e;(y.global===y||y.window===y)&&(r=y);var b,_,w=2147483647,k=36,E=1,x=26,j=38,S=700,C=72,$=128,T="-",D=/^xn--/,M=/[^ -~]/,A=/\x2E|\u3002|\uFF0E|\uFF61/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=k-E,I=Math.floor,N=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:s,encode:c},decode:d,encode:h,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(v&&!v.nodeType)if(g)g.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(v[_]=b[_]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,o,i){t=t||"&",o=o||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;u>l;++l){var f,d,h,p,m=e[l].replace(s,"%20"),v=m.indexOf(o);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(a,h)?r(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],40:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(n){var i=encodeURIComponent(r(n))+a;return o(e[n])?e[n].map(function(e){return i+encodeURIComponent(r(e))}).join(t):i+encodeURIComponent(r(e[n]))}).join(t):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],41:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":39,"./encode":40}],42:[function(e,t){function n(e){return this instanceof n?(a.call(this,e),s.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){if(!this.allowHalfOpen&&!this._writableState.ended){var e=this;i(function(){e.end()})}}t.exports=n;var o=e("inherits"),i=e("process/browser.js").nextTick,a=e("./readable.js"),s=e("./writable.js");o(n,a),n.prototype.write=s.prototype.write,n.prototype.end=s.prototype.end,n.prototype._write=s.prototype._write},{"./readable.js":46,"./writable.js":48,inherits:37,"process/browser.js":44}],43:[function(e,t){function n(){r.call(this)}t.exports=n;var r=e("events").EventEmitter,o=e("inherits");o(n,r),n.Readable=e("./readable.js"),n.Writable=e("./writable.js"),n.Duplex=e("./duplex.js"),n.Transform=e("./transform.js"),n.PassThrough=e("./passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function o(){u.readable&&u.resume&&u.resume()}function i(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){u.removeListener("data",n),e.removeListener("drain",o),u.removeListener("end",i),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",c),u.removeListener("close",c),e.removeListener("close",c)}var u=this;u.on("data",n),e.on("drain",o),e._isStdio||t&&t.end===!1||(u.on("end",i),u.on("close",a));var l=!1;return u.on("error",s),e.on("error",s),u.on("end",c),u.on("close",c),e.on("close",c),e.emit("pipe",u),e}},{"./duplex.js":42,"./passthrough.js":45,"./readable.js":46,"./transform.js":47,"./writable.js":48,events:31,inherits:37}],44:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],45:[function(e,t){function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./transform.js"),o=e("inherits");o(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./transform.js":47,inherits:37}],46:[function(e,t){(function(n){function r(t){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(E||(E=e("string_decoder").StringDecoder),this.decoder=new E(t.encoding),this.encoding=t.encoding)}function o(e){return this instanceof o?(this._readableState=new r(e,this),this.readable=!0,void j.call(this)):new o(e)}function i(e,t,n,r,o){var i=u(t,n);if(i)e.emit("error",i);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!o){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&o){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||o||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&f(e),h(e,t);else o||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function c(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||null===e?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var n=null;return S.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?f(e):_(e)}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?C(function(){d(e)}):d(e))}function d(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,C(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&v(e)}}function v(e){function t(e){var t=e.write(n);!1===t&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):w(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(x.listenerCount(e,"data")>0&&y(e))):void(r.ranOut=!0)}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function y(e,t){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,o=!1;e.readable=!0,e.pipe=j.prototype.pipe,e.on=e.addListener=j.prototype.on,e.on("readable",function(){o=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,o?C(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function b(e,t){var n,r=t.buffer,o=t.length,i=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===o)n=null;else if(a)n=r.shift();else if(!e||e>=o)n=i?r.join(""):S.concat(r,o),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=i?"":new S(e);for(var c=0,u=0,l=r.length;l>u&&e>c;u++){var s=r[0],f=Math.min(e-c,s.length);i?n+=s.slice(0,f):s.copy(n,c,0,f),f<s.length?r[0]=s.slice(f):r.shift(),c+=f}}return n}function _(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,C(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function k(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=o,o.ReadableState=r;var E,x=e("events").EventEmitter,j=e("./index.js"),S=e("buffer").Buffer,C=e("process/browser.js").nextTick,$=e("inherits");$(o,j),o.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),i(this,n,e,t,!1)},o.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},o.prototype.setEncoding=function(t){E||(E=e("string_decoder").StringDecoder),this._readableState.decoder=new E(t),this._readableState.encoding=t};var T=8388608;o.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&_(this),null;var r=t.needReadable;t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=c(n,t));var o;return o=e>0?b(e,t):null,null===o&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&_(this),o},o.prototype._read=function(){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(e,t){function r(e){e===l&&i()}function o(){e.end()}function i(){e.removeListener("close",s),e.removeListener("finish",c),e.removeListener("drain",p),e.removeListener("error",a),e.removeListener("unpipe",r),l.removeListener("end",o),l.removeListener("end",i),(!e._writableState||e._writableState.needDrain)&&p()}function a(t){u(),0===y&&0===x.listenerCount(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",c),u()}function c(){e.removeListener("close",s),u()}function u(){l.unpipe(e)}var l=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1;var d=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,h=d?o:i;f.endEmitted?C(h):l.once("end",h),e.on("unpipe",r);var p=m(l);e.on("drain",p);var y=x.listenerCount(e,"error");return e.once("error",a),e.once("close",s),e.once("finish",c),e.emit("pipe",l),f.flowing||(this.on("readable",g),f.flowing=!0,C(function(){v(l)})),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1;for(var o=0;r>o;o++)n[o].emit("unpipe",this);return this}var o=k(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=j.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||y(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&f(this,r):this.read(0))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},o.prototype.pause=function(){y(this,!0),this.emit("pause")},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(o){if(t.decoder&&(o=t.decoder.write(o)),o&&(t.objectMode||o.length)){var i=r.push(o);i||(n=!0,e.pause())}});for(var o in e)"function"==typeof e[o]&&"undefined"==typeof this[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));var i=["error","close","destroy","pause","resume"];return w(i,function(t){e.on(t,function(e){return r.emit.apply(r,t,e)})}),r._read=function(){n&&(n=!1,e.resume())},r},o._fromList=b}).call(this,e("/home/itay/dev/joola.io.sdk/node_modules/process/browser.js"))},{"./index.js":43,"/home/itay/dev/joola.io.sdk/node_modules/process/browser.js":56,buffer:22,events:31,inherits:37,"process/browser.js":44,string_decoder:49}],47:[function(e,t){function n(e,t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,n){var r=e._transformState;r.transforming=!1;var o=r.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),o&&o(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e);var t=(this._transformState=new n(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){i(t,e)}):i(t)})}function i(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./duplex.js"),s=e("inherits");s(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},o.prototype._read=function(){var e=this._transformState;e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./duplex.js":42,inherits:37}],48:[function(e,t){function n(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function r(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=e.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(t,e)},this.writecb=null,this.writelen=0,this.buffer=[]}function o(e){return this instanceof o||this instanceof k.Duplex?(this._writableState=new r(e,this),this.writable=!0,void k.call(this)):new o(e)}function i(e,t,n){var r=new Error("write after end");e.emit("error",r),E(function(){n(r)})}function a(e,t,n,r){var o=!0;if(!x.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),E(function(){r(i)}),o=!1}return o}function s(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new x(t,n)),t}function c(e,t,r,o,i){r=s(t,r,o);var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;return t.needDrain=!c,t.writing?t.buffer.push(new n(r,o,i)):u(e,t,a,r,o,i),c}function u(e,t,n,r,o,i){t.writelen=n,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,o,t.onwrite),t.sync=!1}function l(e,t,n,r,o){n?E(function(){o(r)}):o(r),e.emit("error",r)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(f(n),t)l(e,n,r,t,o);else{var i=v(e,n);
i||n.bufferProcessing||!n.buffer.length||m(e,n),r?E(function(){h(e,n,i,o)}):h(e,n,i,o)}}function h(e,t,n,r){n||p(e,t),r(),n&&g(e,t)}function p(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],o=r.chunk,i=r.encoding,a=r.callback,s=t.objectMode?1:o.length;if(u(e,t,s,o,i,a),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function g(e,t){var n=v(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function y(e,t,n){t.ending=!0,g(e,t),n&&(t.finished?E(n):e.once("finish",n)),t.ended=!0}t.exports=o,o.WritableState=r;var b="undefined"!=typeof Uint8Array?function(e){return e instanceof Uint8Array}:function(e){return e&&e.constructor&&"Uint8Array"===e.constructor.name},_="undefined"!=typeof ArrayBuffer?function(e){return e instanceof ArrayBuffer}:function(e){return e&&e.constructor&&"ArrayBuffer"===e.constructor.name},w=e("inherits"),k=e("./index.js"),E=e("process/browser.js").nextTick,x=e("buffer").Buffer;w(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),!x.isBuffer(e)&&b(e)&&(e=new x(e)),_(e)&&"undefined"!=typeof Uint8Array&&(e=new x(new Uint8Array(e))),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?i(this,r,n):a(this,r,e,n)&&(o=c(this,r,e,t,n)),o},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),r.ending||r.finished||y(this,r,n)}},{"./index.js":43,buffer:22,inherits:37,"process/browser.js":44}],49:[function(e,t,n){function r(e){if(e&&!s.isEncoding(e))throw new Error("Unknown encoding: "+e)}function o(e){return e.toString(this.encoding)}function i(e){var t=this.charReceived=e.length%2;return this.charLength=t?2:0,t}function a(e){var t=this.charReceived=e.length%3;return this.charLength=t?3:0,t}var s=e("buffer").Buffer,c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="",n=0;this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,n,r),this.charReceived+=r-n,n=r,this.charReceived<this.charLength)return"";t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var o=t.charCodeAt(t.length-1);if(!(o>=55296&&56319>=o)){if(this.charReceived=this.charLength=0,r==e.length)return t;e=e.slice(r,e.length);break}this.charLength+=this.surrogateSize,t=""}var i=this.detectIncompleteChar(e),a=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-i,a),this.charReceived=i,a-=i),t+=e.toString(this.encoding,0,a);var a=t.length-1,o=t.charCodeAt(a);if(o>=55296&&56319>=o){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),this.charBuffer.write(t.charAt(t.length-1),this.encoding),t.substring(0,a)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}return t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;t+=r.slice(0,n).toString(o)}return t}},{buffer:22}],50:[function(e,t,n){!function(){"use strict";function t(e,t,n){if(e&&"object"==typeof e&&e.href)return e;if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o={},i=e;i=i.trim();var u=c.exec(i);if(u){u=u[0];var l=u.toLowerCase();o.protocol=l,i=i.substr(u.length)}if(n||u||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===i.substr(0,2);!f||u&&b[u]||(i=i.substr(2),o.slashes=!0)}if(!b[u]&&(f||u&&!_[u])){var k=i.indexOf("@");if(-1!==k){for(var E=i.slice(0,k),x=!0,j=0,S=p.length;S>j;j++)if(-1!==E.indexOf(p[j])){x=!1;break}x&&(o.auth=decodeURIComponent(E),i=i.substr(k+1))}for(var C=-1,j=0,S=h.length;S>j;j++){var $=i.indexOf(h[j]);-1!==$&&(0>C||C>$)&&(C=$)}-1!==C?(o.host=i.substr(0,C),i=i.substr(C)):(o.host=i,i="");for(var T=a(o.host),D=Object.keys(T),j=0,S=D.length;S>j;j++){var M=D[j];o[M]=T[M]}o.hostname=o.hostname||"";var A="["===o.hostname[0]&&"]"===o.hostname[o.hostname.length-1];if(o.hostname.length>m)o.hostname="";else if(!A)for(var O=o.hostname.split(/\./),j=0,S=O.length;S>j;j++){var L=O[j];if(L&&!L.match(v)){for(var I="",N=0,W=L.length;W>N;N++)I+=L.charCodeAt(N)>127?"x":L[N];if(!I.match(v)){var B=O.slice(0,j),P=O.slice(j+1),q=L.match(g);q&&(B.push(q[1]),P.unshift(q[2])),P.length&&(i="/"+P.join(".")+i),o.hostname=B.join(".");break}}}if(o.hostname=o.hostname.toLowerCase(),!A){for(var R=o.hostname.split("."),U=[],j=0;j<R.length;++j){var F=R[j];U.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+s.encode(F):F)}o.hostname=U.join(".")}o.host=(o.hostname||"")+(o.port?":"+o.port:""),o.href+=o.host,A&&(o.hostname=o.hostname.substr(1,o.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!y[l])for(var j=0,S=d.length;S>j;j++){var Y=d[j],z=encodeURIComponent(Y);z===Y&&(z=escape(Y)),i=i.split(Y).join(z)}var H=i.indexOf("#");-1!==H&&(o.hash=i.substr(H),i=i.slice(0,H));var G=i.indexOf("?");return-1!==G?(o.search=i.substr(G),o.query=i.substr(G+1),t&&(o.query=w.parse(o.query)),i=i.slice(0,G)):t&&(o.search="",o.query={}),i&&(o.pathname=i),_[u]&&o.hostname&&!o.pathname&&(o.pathname="/"),(o.pathname||o.search)&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=r(o),o}function r(e){"string"==typeof e&&(e=t(e));var n=e.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var r=e.protocol||"",o=e.pathname||"",i=e.hash||"",a=!1,s="";void 0!==e.host?a=n+e.host:void 0!==e.hostname&&(a=n+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(a+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(s=w.stringify(e.query));var c=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||_[r])&&a!==!1?(a="//"+(a||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),c&&"?"!==c.charAt(0)&&(c="?"+c),r+a+o+c+i}function o(e,t){return r(i(e,t))}function i(e,n){if(!e)return n;if(e=t(r(e),!1,!0),n=t(r(n),!1,!0),e.hash=n.hash,""===n.href)return e.href=r(e),e;if(n.slashes&&!n.protocol)return n.protocol=e.protocol,_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=r(n),n;if(n.protocol&&n.protocol!==e.protocol){if(!_[n.protocol])return n.href=r(n),n;if(e.protocol=n.protocol,!n.host&&!b[n.protocol]){for(var o=(n.pathname||"").split("/");o.length&&!(n.host=o.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}return e.pathname=n.pathname,e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.slashes=e.slashes||n.slashes,e.href=r(e),e}var i=e.pathname&&"/"===e.pathname.charAt(0),a=void 0!==n.host||n.pathname&&"/"===n.pathname.charAt(0),s=a||i||e.host&&n.pathname,c=s,u=e.pathname&&e.pathname.split("/")||[],o=n.pathname&&n.pathname.split("/")||[],l=e.protocol&&!_[e.protocol];if(l&&(delete e.hostname,delete e.port,e.host&&(""===u[0]?u[0]=e.host:u.unshift(e.host)),delete e.host,n.protocol&&(delete n.hostname,delete n.port,n.host&&(""===o[0]?o[0]=n.host:o.unshift(n.host)),delete n.host),s=s&&(""===o[0]||""===u[0])),a)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,u=o;else if(o.length)u||(u=[]),u.pop(),u=u.concat(o),e.search=n.search,e.query=n.query;else if("search"in n){if(l){e.hostname=e.host=u.shift();var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}return e.search=n.search,e.query=n.query,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=r(e),e}if(!u.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=r(e),e;for(var d=u.slice(-1)[0],h=(e.host||n.host)&&("."===d||".."===d)||""===d,p=0,m=u.length;m>=0;m--)d=u[m],"."==d?u.splice(m,1):".."===d?(u.splice(m,1),p++):p&&(u.splice(m,1),p--);if(!s&&!c)for(;p--;p)u.unshift("..");!s||""===u[0]||u[0]&&"/"===u[0].charAt(0)||u.unshift(""),h&&"/"!==u.join("/").substr(-1)&&u.push("");var v=""===u[0]||u[0]&&"/"===u[0].charAt(0);if(l){e.hostname=e.host=v?"":u.length?u.shift():"";var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}return s=s||e.host&&u.length,s&&!v&&u.unshift(""),e.pathname=u.join("/"),(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=r(e),e}function a(e){var t={},n=u.exec(e);return n&&(n=n[0],":"!==n&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e),t}var s=e("punycode");n.parse=t,n.resolve=o,n.resolveObject=i,n.format=r;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,l=["<",">",'"',"`"," ","\r","\n","	"],f=["{","}","|","\\","^","~","`"].concat(l),d=["'"].concat(l),h=["%","/","?",";","#"].concat(f).concat(d),p=["/","@","?","#"].concat(l),m=255,v=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,g=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("querystring")}()},{punycode:38,querystring:41}],51:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],52:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return b(o)||(o=c(e,o,r)),o}var i=u(e,t);if(i)return i;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),j(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(S(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(j(t))return l(t)}var g="",y=!1,_=["{","}"];if(p(t)&&(y=!0,_=["[","]"]),S(t)){var w=t.name?": "+t.name:"";g=" [Function"+w+"]"}if(k(t)&&(g=" "+RegExp.prototype.toString.call(t)),x(t)&&(g=" "+Date.prototype.toUTCString.call(t)),j(t)&&(g=" "+l(t)),0===a.length&&(!y||0==t.length))return _[0]+g+_[1];if(0>r)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=y?f(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,y)}),e.seen.pop(),h(E,g,_)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],a=0,s=t.length;s>a;++a)i.push(M(t,String(a))?d(e,t,n,r,String(a),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))}),i}function d(e,t,n,r,o,i){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),M(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?c(e,u.value,null):c(e,u.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===$(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===$(e)}function j(e){return E(e)&&("[object Error]"===$(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function $(e){return Object.prototype.toString.call(e)}function T(e){return 10>e?"0"+e.toString(10):e.toString(10)}function D(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(A,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];i>n;s=r[++n])a+=v(s)||!E(s)?" "+s:" "+o(s);return a},n.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return i};var O,L={};n.debuglog=function(e){if(w(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;L[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else L[e]=function(){};return L[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=g,n.isNumber=y,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=k,n.isObject=E,n.isDate=x,n.isError=j,n.isFunction=S,n.isPrimitive=C,n.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",D(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("/home/itay/dev/joola.io.sdk/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":51,"/home/itay/dev/joola.io.sdk/node_modules/process/browser.js":56,inherits:37}],53:[function(e,t,n){function r(e,t){if(!t)return e;var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t){if(!t)return e;var n;for(n in t)t.hasOwnProperty(n)&&("undefined"==typeof e[n]||null===e[n])&&(e[n]=t[n]);return e}function i(e,t,n,r,o,a,s){if(e==t)return e;if(!t)return e;var c,u,l=!1;if(s||(o={a:e},a="a"),n||(l=!0,n=[],r=[]),u=n.indexOf(t),-1!=u)return r[u][0][r[u][1]];n.push(t),r.push([o,a]);for(c in t)t.hasOwnProperty(c)&&("undefined"==typeof e[c]?"object"==typeof t[c]?t[c]instanceof Array?e[c]=i([],t[c],n,r,e,c,!0):null===t[c]?e[c]=null:t[c]instanceof Date?(e[c]=new t[c].constructor,e[c].setTime(t[c].getTime())):e[c]=i({},t[c],n,r,e,c,!0):e[c]=t[c]:e[c]="object"==typeof e[c]&&null!==e[c]?i(e[c],t[c],n,r,e,c,!0):t[c]);return l&&(n=null,r=null),s?e:(o=null,e)}function a(e,t,n,r,o,i,s,c){if(e==t)return e;if(!t)return e;var u,l=!1;if(c||(i={a:e},s="a"),r||(l=!0,r=[],o=[]),b_pos=r.indexOf(t),-1!=b_pos)return o[b_pos][0][o[b_pos][1]];r.push(t),o.push([i,s]);for(u in t)t.hasOwnProperty(u)&&("undefined"==typeof e[u]?"object"==typeof t[u]&&n>0?t[u]instanceof Array?e[u]=a([],t[u],n-1,r,o,e,u,!0):null===t[u]?e[u]=null:t[u]instanceof Date?(e[u]=new t[u].constructor,e[u].setTime(t[u].getTime())):e[u]=a({},t[u],n-1,r,o,e,u,!0):e[u]=t[u]:e[u]="object"==typeof e[u]&&null!==e[u]&&n>0?a(e[u],t[u],n-1,r,o,e,u,!0):t[u]);return l&&(r=null,o=null),c?e:(i=null,e)}function s(e){if("object"==typeof e){if(null===e)return null;if(e instanceof Array)return i([],e);if(e instanceof Date){var t=new e.constructor;return t.setTime(e.getTime()),t}return i({},e)}return e}function c(e,t){return"object"==typeof e?null===e?null:i(s(e),t):e}function u(e,t){return"object"==typeof e?null===e?null:e instanceof Array?a([],e,t):a({},e,t):e}function l(e,t,n){if(e){if("object"==typeof e&&e instanceof Array)return e.forEach(e,t,n);if(e)for(var r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)break}}n.replace=r,n.add=o,n.extend=i,n.extenduptolevel=a,n.clone=s,n.cloneextend=c,n.cloneuptolevel=u,n.foreach=l},{}],54:[function(e,t,n){(function(e){!function(e){function t(){this._events={},this._conf&&n.call(this,this._conf)}function n(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function r(e){this._events={},this.newListener=!1,n.call(this,e)}function o(e,t,n,r){if(!n)return[];var i,a,s,c,u,l,f,d=[],h=t.length,p=t[r],m=t[r+1];if(r===h&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,a=n._listeners.length;a>i;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(d=d.concat(o(e,t,n[s],r+1)));return d}if("**"===p){f=r+1===h||r+2===h&&"*"===m,f&&n._listeners&&(d=d.concat(o(e,t,n,h)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!f&&(d=d.concat(o(e,t,n[s],h))),d=d.concat(o(e,t,n[s],r))):d=d.concat(s===m?o(e,t,n[s],r+2):o(e,t,n[s],r)));return d}d=d.concat(o(e,t,n[p],r+1))}if(c=n["*"],c&&o(e,t,c,r+1),u=n["**"])if(h>r){u._listeners&&o(e,t,u,h);for(s in u)"_listeners"!==s&&u.hasOwnProperty(s)&&(s===m?o(e,t,u[s],r+2):s===p?o(e,t,u[s],r+1):(l={},l[s]=u[s],o(e,t,{"**":l},r+1)))}else u._listeners?o(e,t,u,h):u["*"]&&u["*"]._listeners&&o(e,t,u["*"],h);return d}function i(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,i=e.shift();i;){if(o[i]||(o[i]={}),o=o[i],0===e.length){if(o._listeners){if("function"==typeof o._listeners)o._listeners=[o._listeners,t];else if(a(o._listeners)&&(o._listeners.push(t),!o._listeners.warned)){var c=s;"undefined"!=typeof this._events.maxListeners&&(c=this._events.maxListeners),c>0&&o._listeners.length>c&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace())}}else o._listeners=t;return!0}i=e.shift()}return!0}var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=10;r.prototype.delimiter=".",r.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},r.prototype.event="",r.prototype.once=function(e,t){return this.many(e,1,t),this},r.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},r.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(i=0,n=this._all.length;n>i;i++)this.event=e,this._all[i].apply(this,r)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var a;if(this.wildcard){a=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();o.call(this,a,s,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a){if(this.event=e,1===arguments.length)a.call(this);else if(arguments.length>1)switch(arguments.length){case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];a.apply(this,r)}return!0}if(a){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(var c=a.slice(),i=0,n=c.length;n>i;i++)this.event=e,c[i].apply(this,r);return c.length>0||this._all}return this._all},r.prototype.on=function(e,n){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,n),this.wildcard)return i.call(this,e,n),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],n];else if(a(this._events[e])&&(this._events[e].push(n),!this._events[e].warned)){var r=s;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=n;return this},r.prototype.onAny=function(e){if(this._all||(this._all=[]),"function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all.push(e),this},r.prototype.addListener=r.prototype.on,r.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();r=o.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var c=r[s];if(n=c._listeners,a(n)){for(var u=-1,l=0,f=n.length;f>l;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){u=l;break}if(0>u)continue;return this.wildcard?c._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e])}return this},r.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this}else this._all=[];return this},r.prototype.removeListener=r.prototype.off,r.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var n="string"==typeof e?e.split(this.delimiter):e.slice(),r=o.call(this,null,n,this.listenerTree,0),i=0;i<r.length;i++){var a=r[i];a._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},r.prototype.listeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return o.call(this,n,r,this.listenerTree,0),n}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},r.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return r}):e.EventEmitter2=r}("undefined"!=typeof e&&"undefined"!=typeof e.title&&"undefined"!=typeof n?n:window)}).call(this,e("/home/itay/dev/joola.io.sdk/node_modules/process/browser.js"))},{"/home/itay/dev/joola.io.sdk/node_modules/process/browser.js":56}],55:[function(e,t){(function(n){function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(e,t){return function(n){return d(e.call(this,n),t)}}function i(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function a(){}function s(e){x(e),u(this,e)}function c(e){var t=y(e),n=t.year||0,r=t.month||0,o=t.week||0,i=t.day||0,a=t.hour||0,s=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*s+36e5*a,this._days=+i+7*o,this._months=+r+12*n,this._data={},this._bubble()}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function l(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&yt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function f(e){return 0>e?Math.ceil(e):Math.floor(e)}function d(e,t,n){for(var r=""+Math.abs(e),o=e>=0;r.length<t;)r="0"+r;return(o?n?"+":"":"-")+r}function h(e,t,n,r){var o,i,a=t._milliseconds,s=t._days,c=t._months;a&&e._d.setTime(+e._d+a*n),(s||c)&&(o=e.minute(),i=e.hour()),s&&e.date(e.date()+s*n),c&&e.month(e.month()+c*n),a&&!r&&it.updateOffset(e),(s||c)&&(e.minute(o),e.hour(i))}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function v(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+i}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Gt[e]||Jt[t]||t}return e}function y(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=g(n),t&&(r[t]=e[n]));return r}function b(e){var t,r;if(0===e.indexOf("week"))t=7,r="day";else{if(0!==e.indexOf("month"))return;t=12,r="month"}it[e]=function(o,i){var a,s,c=it.fn._lang[e],u=[];if("number"==typeof o&&(i=o,o=n),s=function(e){var t=it().utc().set(r,e);return c.call(it.fn._lang,t,o||"")},null!=i)return s(i);for(a=0;t>a;a++)u.push(s(a));return u}}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function k(e){return E(e)?366:365}function E(e){return e%4===0&&e%100!==0||e%400===0}function x(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ft]<0||e._a[ft]>11?ft:e._a[dt]<1||e._a[dt]>w(e._a[lt],e._a[ft])?dt:e._a[ht]<0||e._a[ht]>23?ht:e._a[pt]<0||e._a[pt]>59?pt:e._a[mt]<0||e._a[mt]>59?mt:e._a[vt]<0||e._a[vt]>999?vt:-1,e._pf._overflowDayOfYear&&(lt>t||t>dt)&&(t=dt),e._pf.overflow=t)}function j(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function S(e){return e?e.toLowerCase().replace("_","-"):e}function C(e,t){return t._isUTC?it(e).zone(t._offset||0):it(e).local()}function $(e,t){return t.abbr=e,gt[e]||(gt[e]=new a),gt[e].set(t),gt[e]}function T(e){delete gt[e]}function D(t){var n,r,o,i,a=0,s=function(t){if(!gt[t]&&bt)try{e("./lang/"+t)}catch(n){}return gt[t]};if(!t)return it.fn._lang;if(!p(t)){if(r=s(t))return r;t=[t]}for(;a<t.length;){for(i=S(t[a]).split("-"),n=i.length,o=S(t[a+1]),o=o?o.split("-"):null;n>0;){if(r=s(i.slice(0,n).join("-")))return r;if(o&&o.length>=n&&v(i,o,!0)>=n-1)break;n--}a++}return it.fn._lang}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,r=e.match(Et);for(t=0,n=r.length;n>t;t++)r[t]=Qt[r[t]]?Qt[r[t]]:M(r[t]);return function(o){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(o,e):r[t];return i}}function O(e,t){return e.isValid()?(t=L(t,e.lang()),Xt[t]||(Xt[t]=A(t)),Xt[t](e)):e.lang().invalidDate()}function L(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(xt.lastIndex=0;r>=0&&xt.test(e);)e=e.replace(xt,n),xt.lastIndex=0,r-=1;return e}function I(e,t){var n,r=t._strict;switch(e){case"DDDD":return Nt;case"YYYY":case"GGGG":case"gggg":return r?Wt:Ct;case"Y":case"G":case"g":return Pt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Bt:$t;case"S":if(r)return Lt;case"SS":if(r)return It;case"SSS":if(r)return Nt;case"DDD":return St;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Dt;case"a":case"A":return D(t._l)._meridiemParse;case"X":return Ot;case"Z":case"ZZ":return Mt;case"T":return At;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?It:jt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return jt;default:return n=new RegExp(F(U(e.replace("\\","")),"i"))}}function N(e){e=e||"";var t=e.match(Mt)||[],n=t[t.length-1]||[],r=(n+"").match(Yt)||["-",0,0],o=+(60*r[1])+_(r[2]);return"+"===r[0]?-o:o}function W(e,t,n){var r,o=n._a;switch(e){case"M":case"MM":null!=t&&(o[ft]=_(t)-1);break;case"MMM":case"MMMM":r=D(n._l).monthsParse(t),null!=r?o[ft]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[dt]=_(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=_(t));break;case"YY":o[lt]=_(t)+(_(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":o[lt]=_(t);break;case"a":case"A":n._isPm=D(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[ht]=_(t);break;case"m":case"mm":o[pt]=_(t);break;case"s":case"ss":o[mt]=_(t);break;case"S":case"SS":case"SSS":case"SSSS":o[vt]=_(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=N(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function B(e){var t,n,r,o,i,a,s,c,u,l,f=[];if(!e._d){for(r=q(e),e._w&&null==e._a[dt]&&null==e._a[ft]&&(i=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[lt]?it().weekYear():e._a[lt]
},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=K(i(a.GG),a.W||1,a.E,4,1):(c=D(e._l),u=null!=a.d?X(a.d,c):null!=a.e?parseInt(a.e,10)+c._week.dow:0,l=parseInt(a.w,10)||1,null!=a.d&&u<c._week.dow&&l++,s=K(i(a.gg),l,u,c._week.doy,c._week.dow)),e._a[lt]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(o=null==e._a[lt]?r[lt]:e._a[lt],e._dayOfYear>k(o)&&(e._pf._overflowDayOfYear=!0),n=J(o,0,e._dayOfYear),e._a[ft]=n.getUTCMonth(),e._a[dt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=f[t]=r[t];for(;7>t;t++)e._a[t]=f[t]=null==e._a[t]?2===t?1:0:e._a[t];f[ht]+=_((e._tzm||0)/60),f[pt]+=_((e._tzm||0)%60),e._d=(e._useUTC?J:G).apply(null,f)}}function P(e){var t;e._d||(t=y(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],B(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function R(e){e._a=[],e._pf.empty=!0;var t,n,r,o,i,a=D(e._l),s=""+e._i,c=s.length,u=0;for(r=L(e._f,a).match(Et)||[],t=0;t<r.length;t++)o=r[t],n=(s.match(I(o,e))||[])[0],n&&(i=s.substr(0,s.indexOf(n)),i.length>0&&e._pf.unusedInput.push(i),s=s.slice(s.indexOf(n)+n.length),u+=n.length),Qt[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),W(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=c-u,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[ht]<12&&(e._a[ht]+=12),e._isPm===!1&&12===e._a[ht]&&(e._a[ht]=0),B(e),x(e)}function U(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o})}function F(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(e){var t,n,o,i,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)a=0,t=u({},e),t._pf=r(),t._f=e._f[i],R(t),j(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==o||o>a)&&(o=a,n=t));u(e,n||t)}function z(e){var t,n,r=e._i,o=qt.exec(r);if(o){for(e._pf.iso=!0,t=0,n=Ut.length;n>t;t++)if(Ut[t][1].exec(r)){e._f=Ut[t][0]+(o[6]||" ");break}for(t=0,n=Ft.length;n>t;t++)if(Ft[t][1].exec(r)){e._f+=Ft[t][0];break}r.match(Mt)&&(e._f+="Z"),R(e)}else e._d=new Date(r)}function H(e){var t=e._i,r=_t.exec(t);t===n?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof t?z(e):p(t)?(e._a=t.slice(0),B(e)):m(t)?e._d=new Date(+t):"object"==typeof t?P(e):e._d=new Date(t)}function G(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return 1970>e&&s.setFullYear(e),s}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function V(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Z(e,t,n){var r=ut(Math.abs(e)/1e3),o=ut(r/60),i=ut(o/60),a=ut(i/24),s=ut(a/365),c=45>r&&["s",r]||1===o&&["m"]||45>o&&["mm",o]||1===i&&["h"]||22>i&&["hh",i]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",ut(a/30)]||1===s&&["y"]||["yy",s];return c[2]=t,c[3]=e>0,c[4]=n,V.apply({},c)}function Q(e,t,n){var r,o=n-t,i=n-e.day();return i>o&&(i-=7),o-7>i&&(i+=7),r=it(e).add("d",i),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function K(e,t,n,r,o){var i,a,s=J(e,0,1).getUTCDay();return n=null!=n?n:o,i=o-s+(s>r?7:0)-(o>s?7:0),a=7*(t-1)+(n-o)+i+1,{year:a>0?e:e-1,dayOfYear:a>0?a:k(e-1)+a}}function et(e){var t=e._i,n=e._f;return null===t?it.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=D().preparse(t)),it.isMoment(t)?(e=l(t),e._d=new Date(+t._d)):n?p(n)?Y(e):R(e):H(e),new s(e))}function tt(e,t){it.fn[e]=it.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),it.updateOffset(this),this):this._d["get"+n+t]()}}function nt(e){it.duration.fn[e]=function(){return this._data[e]}}function rt(e,t){it.duration.fn["as"+e]=function(){return+this/t}}function ot(e){var t=!1,n=it;"undefined"==typeof ender&&(e?(ct.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},u(ct.moment,n)):ct.moment=it)}for(var it,at,st="2.5.1",ct=this,ut=Math.round,lt=0,ft=1,dt=2,ht=3,pt=4,mt=5,vt=6,gt={},yt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},bt="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e,_t=/^\/?Date\((\-?\d+)/i,wt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,kt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Et=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,xt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,jt=/\d\d?/,St=/\d{1,3}/,Ct=/\d{1,4}/,$t=/[+\-]?\d{1,6}/,Tt=/\d+/,Dt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mt=/Z|[\+\-]\d\d:?\d\d/gi,At=/T/i,Ot=/[\+\-]?\d+(\.\d{1,3})?/,Lt=/\d/,It=/\d\d/,Nt=/\d{3}/,Wt=/\d{4}/,Bt=/[+-]?\d{6}/,Pt=/[+-]?\d+/,qt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rt="YYYY-MM-DDTHH:mm:ssZ",Ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ft=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Yt=/([\+\-]|\d\d)/gi,zt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ht={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Gt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Jt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Xt={},Vt="DDD w W M D d".split(" "),Zt="M D H h m s w W".split(" "),Qt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+d(Math.abs(e),6)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return d(this.weekYear(),4)},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return d(this.isoWeekYear(),4)},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return d(_(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},SSSS:function(){return d(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(_(e/60),2)+":"+d(_(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(_(e/60),2)+d(_(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Vt.length;)at=Vt.pop(),Qt[at+"o"]=i(Qt[at],at);for(;Zt.length;)at=Zt.pop(),Qt[at+at]=o(Qt[at],2);for(Qt.DDDD=o(Qt.DDD,3),u(a.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=it.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=it([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Q(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),it=function(e,t,o,i){var a;return"boolean"==typeof o&&(i=o,o=n),a={},a._isAMomentObject=!0,a._i=e,a._f=t,a._l=o,a._strict=i,a._isUTC=!1,a._pf=r(),et(a)},it.utc=function(e,t,o,i){var a;return"boolean"==typeof o&&(i=o,o=n),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=o,a._i=e,a._f=t,a._strict=i,a._pf=r(),et(a).utc()},it.unix=function(e){return it(1e3*e)},it.duration=function(e,t){var n,r,o,i=e,a=null;return it.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(a=wt.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:_(a[dt])*n,h:_(a[ht])*n,m:_(a[pt])*n,s:_(a[mt])*n,ms:_(a[vt])*n}):(a=kt.exec(e))&&(n="-"===a[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},i={y:o(a[2]),M:o(a[3]),d:o(a[4]),h:o(a[5]),m:o(a[6]),s:o(a[7]),w:o(a[8])}),r=new c(i),it.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},it.version=st,it.defaultFormat=Rt,it.updateOffset=function(){},it.lang=function(e,t){var n;return e?(t?$(S(e),t):null===t?(T(e),e="en"):gt[e]||D(e),n=it.duration.fn._lang=it.fn._lang=D(e),n._abbr):it.fn._lang._abbr},it.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),D(e)},it.isMoment=function(e){return e instanceof s||null!=e&&e.hasOwnProperty("_isAMomentObject")},it.isDuration=function(e){return e instanceof c},at=Kt.length-1;at>=0;--at)b(Kt[at]);for(it.normalizeUnits=function(e){return g(e)},it.invalid=function(e){var t=it.utc(0/0);return null!=e?u(t._pf,e):t._pf.userInvalidated=!0,t},it.parseZone=function(e){return it(e).parseZone()},u(it.fn=s.prototype,{clone:function(){return it(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=it(this).utc();return 0<e.year()&&e.year()<=9999?O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return j(this)},isDSTShifted:function(){return this._a?this.isValid()&&v(this._a,(this._isUTC?it.utc(this._a):it(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=O(this,e||it.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?it.duration(+t,e):it.duration(e,t),h(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?it.duration(+t,e):it.duration(e,t),h(this,n,-1),this},diff:function(e,t,n){var r,o,i=C(e,this),a=6e4*(this.zone()-i.zone());return t=g(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+i.daysInMonth()),o=12*(this.year()-i.year())+(this.month()-i.month()),o+=(this-it(this).startOf("month")-(i-it(i).startOf("month")))/r,o-=6e4*(this.zone()-it(this).startOf("month").zone()-(i.zone()-it(i).startOf("month").zone()))/r,"year"===t&&(o/=12)):(r=this-i,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?o:f(o)},from:function(e,t){return it.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(it(),e)},calendar:function(){var e=C(it(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),it.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+it(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+it(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+C(e,this).startOf(t)},min:function(e){return e=it.apply(null,arguments),this>e?this:e},max:function(e){return e=it.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=N(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&h(this,it.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?it(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=ut((it(this).startOf("day")-it(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=Q(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Q(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=Q(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(e){return e===n?this._lang:(this._lang=D(e),this)}}),at=0;at<zt.length;at++)tt(zt[at].toLowerCase().replace(/s$/,""),zt[at]);tt("year","FullYear"),it.fn.days=it.fn.day,it.fn.months=it.fn.month,it.fn.weeks=it.fn.week,it.fn.isoWeeks=it.fn.isoWeek,it.fn.toJSON=it.fn.toISOString,u(it.duration.fn=c.prototype,{_bubble:function(){var e,t,n,r,o=this._milliseconds,i=this._days,a=this._months,s=this._data;s.milliseconds=o%1e3,e=f(o/1e3),s.seconds=e%60,t=f(e/60),s.minutes=t%60,n=f(t/60),s.hours=n%24,i+=f(n/24),s.days=i%30,a+=f(i/30),s.months=a%12,r=f(a/12),s.years=r},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},humanize:function(e){var t=+this,n=Z(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=it.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=it.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:it.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),o=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||o||i?"T":"")+(r?r+"H":"")+(o?o+"M":"")+(i?i+"S":""):"P0D"}});for(at in Ht)Ht.hasOwnProperty(at)&&(rt(at,Ht[at]),nt(at.toLowerCase()));rt("Weeks",6048e5),it.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},it.lang("en",{ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),bt?(t.exports=it,ot(!0)):"function"==typeof define&&define.amd?define("moment",function(e,t,r){return r.config&&r.config()&&r.config().noGlobal!==!0&&ot(r.config().noGlobal===n),it}):ot()}).call(this)},{}],56:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],57:[function(require,module,exports){(function(){var io=module.exports;if(function(e,t){var n=e;n.version="0.8.6",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,r){var o,i,a=n.util.parseUri(e);t&&t.location&&(a.protocol=a.protocol||t.location.protocol.slice(0,-1),a.host=a.host||(t.document?t.document.domain:t.location.hostname),a.port=a.port||t.location.port),o=n.util.uniqueUri(a);var s={host:a.host,secure:"https"==a.protocol,port:a.port||("https"==a.protocol?443:80),query:a.query||""};return n.util.merge(s,r),(s["force new connection"]||!n.sockets[o])&&(i=new n.Socket(s)),!s["force new connection"]&&i&&(n.sockets[o]=i),i=i||n.sockets[o],i.of(a.path.length>1?a.path:"")}}("object"==typeof module?module.exports:this.io={},this),function(e,t){var n=e.util={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){for(var t=r.exec(e||""),n={},i=14;i--;)n[o[i]]=t[i]||"";return n},n.uniqueUri=function(e){var n=e.protocol,r=e.host,o=e.port;return"document"in t?(r=r||document.domain,o=o||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(r=r||"localhost",o||"https"!=n||(o=443)),(n||"http")+"://"+r+":"+(o||80)},n.query=function(e,t){var r=n.chunkQuery(e||""),o=[];n.merge(r,n.chunkQuery(t||""));for(var i in r)r.hasOwnProperty(i)&&o.push(i+"="+r[i]);return o.length?"?"+o.join("&"):""},n.chunkQuery=function(e){for(var t,n={},r=e.split("&"),o=0,i=r.length;i>o;++o)t=r[o].split("="),t[0]&&(n[t[0]]=decodeURIComponent(t[1]));return n};var i=!1;n.load=function(e){return"document"in t&&"complete"===document.readyState||i?e():void n.on(t,"load",e,!1)},n.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return null},"undefined"!=typeof window&&n.load(function(){i=!0}),n.defer=function(e){return n.ua.webkit&&"undefined"==typeof importScripts?void n.load(function(){setTimeout(e,100)}):e()},n.merge=function(e,t,r,o){var i,a=o||[],s="undefined"==typeof r?2:r;for(i in t)t.hasOwnProperty(i)&&n.indexOf(a,i)<0&&("object"==typeof e[i]&&s?n.merge(e[i],t[i],s-1,a):(e[i]=t[i],a.push(t[i])));return e},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.intersect=function(e,t){for(var r=[],o=e.length>t.length?e:t,i=e.length>t.length?t:e,a=0,s=i.length;s>a;a++)~n.indexOf(o,i[a])&&r.push(i[a]);return r},n.indexOf=function(e,t,n){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(var r=e.length,n=0>n?0>n+r?0:n+r:n||0;r>n&&e[n]!==t;n++);return n>=r?-1:n},n.toArray=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(t){return!1}return void 0!=e.withCredentials}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function n(){r.removeListener(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var r=this.$events[e];if(t.util.isArray(r)){for(var o=-1,i=0,a=r.length;a>i;i++)if(r[i]===n||r[i].listener&&r[i].listener===n){o=i;break}if(0>o)return this;r.splice(o,1),r.length||delete this.$events[e]}else(r===n||r.listener&&r.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return this.$events&&this.$events[e]&&(this.$events[e]=null),this},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var r=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,r);else{if(!t.util.isArray(n))return!1;for(var o=n.slice(),i=0,a=o.length;a>i;i++)o[i].apply(this,r)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(e){return 10>e?"0"+e:e}function date(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,c=t[e];switch(c instanceof Date&&(c=date(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})},JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(e,t){var n=e.parser={},r=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],o=n.reasons=["transport not supported","client not handshaken","unauthorized"],i=n.advice=["reconnect"],a=t.JSON,s=t.util.indexOf;n.encodePacket=function(e){var t=s(r,e.type),n=e.id||"",c=e.endpoint||"",u=e.ack,l=null;switch(e.type){case"error":var f=e.reason?s(o,e.reason):"",d=e.advice?s(i,e.advice):"";(""!==f||""!==d)&&(l=f+(""!==d?"+"+d:""));break;case"message":""!==e.data&&(l=e.data);break;case"event":var h={name:e.name};e.args&&e.args.length&&(h.args=e.args),l=a.stringify(h);break;case"json":l=a.stringify(e.data);break;case"connect":e.qs&&(l=e.qs);break;case"ack":l=e.ackId+(e.args&&e.args.length?"+"+a.stringify(e.args):"")}var p=[t,n+("data"==u?"+":""),c];return null!==l&&void 0!==l&&p.push(l),p.join(":")},n.encodePayload=function(e){var t="";if(1==e.length)return e[0];for(var n=0,r=e.length;r>n;n++){var o=e[n];t+="�"+o.length+"�"+e[n]}return t};var c=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){var t=e.match(c);if(!t)return{};var n=t[2]||"",e=t[5]||"",s={type:r[t[1]],endpoint:t[4]||""};switch(n&&(s.id=n,s.ack=t[3]?"data":!0),s.type){case"error":var t=e.split("+");s.reason=o[t[0]]||"",s.advice=i[t[1]]||"";break;case"message":s.data=e||"";break;case"event":try{var u=a.parse(e);s.name=u.name,s.args=u.args}catch(l){}s.args=s.args||[];break;case"json":try{s.data=a.parse(e)}catch(l){}break;case"connect":s.qs=e||"";break;case"ack":var t=e.match(/^([0-9]+)(\+)?(.*)/);if(t&&(s.ackId=t[1],s.args=[],t[3]))try{s.args=t[3]?a.parse(t[3]):[]}catch(l){}break;case"disconnect":case"heartbeat":}return s},n.decodePayload=function(e){if("�"==e.charAt(0)){for(var t=[],r=1,o="";r<e.length;r++)"�"==e.charAt(r)?(t.push(n.decodePacket(e.substr(r+1).substr(0,o))),r+=Number(o)+1,o=""):o+=e.charAt(r);return t}return[n.decodePacket(e)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t){function n(e,t){this.socket=e,this.sessid=t}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.onData=function(e){if(this.clearCloseTimeout(),(this.connected||this.connecting||this.reconnecting)&&this.setCloseTimeout(),""!==e){var n=t.parser.decodePayload(e);if(n&&n.length)for(var r=0,o=n.length;o>r;r++)this.onPacket(n[r])}return this},n.prototype.onPacket=function(e){return"heartbeat"==e.type?this.onHeartbeat():("connect"==e.type&&""==e.endpoint&&this.onConnect(),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.open&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.open=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.open=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var e=this.socket.options;
return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){if(this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(n,"beforeunload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function o(){}e.Socket=r,t.util.mixin(r,t.EventEmitter),r.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),""!==e&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},r.prototype.publish=function(){this.emit.apply(this,arguments);var e;for(var t in this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t),e.$emit.apply(e,arguments))},r.prototype.handshake=function(e){function n(t){t instanceof Error?r.onError(t.message):e.apply(null,t.split(":"))}var r=this,i=this.options,a=["http"+(i.secure?"s":"")+":/",i.host+":"+i.port,i.resource,t.protocol,t.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS){var s=document.getElementsByTagName("script")[0],c=document.createElement("script");c.src=a+"&jsonp="+t.j.length,s.parentNode.insertBefore(c,s),t.j.push(function(e){n(e),c.parentNode.removeChild(c)})}else{var u=t.util.request();u.open("GET",a,!0),u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=o,200==u.status?n(u.responseText):!r.reconnecting&&r.onError(u.responseText))},u.send(null)}},r.prototype.getTransport=function(e){for(var n,r=e||this.transports,o=0;n=r[o];o++)if(t.Transport[n]&&t.Transport[n].check(this)&&(!this.isXDomain()||t.Transport[n].xdomainCheck()))return new t.Transport[n](this,this.sessionid);return null},r.prototype.connect=function(e){if(this.connecting)return this;var n=this;return this.handshake(function(r,o,i,a){function s(e){return n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(e),n.transport?void n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected&&(n.connecting=!1,n.options["try multiple transports"])){n.remainingTransports||(n.remainingTransports=n.transports.slice(0));for(var e=n.remainingTransports;e.length>0&&e.splice(0,1)[0]!=n.transport.name;);e.length?s(e):n.publish("connect_failed")}},n.options["connect timeout"]))}):n.publish("connect_failed")}n.sessionid=r,n.closeTimeout=1e3*i,n.heartbeatTimeout=1e3*o,n.transports=t.util.intersect(a.split(","),n.options.transports),s(),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),e&&"function"==typeof e&&e()})}),this},r.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},r.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},r.prototype.disconnect=function(){return this.connected&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},r.prototype.disconnectSync=function(){var e=t.util.request(),n=this.resource+"/"+t.protocol+"/"+this.sessionid;e.open("GET",n,!0),this.onDisconnect("booted")},r.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},r.prototype.onOpen=function(){this.open=!0},r.prototype.onClose=function(){this.open=!1},r.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},r.prototype.onError=function(e){e&&e.advice&&"reconnect"===e.advice&&this.connected&&(this.disconnect(),this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},r.prototype.onDisconnect=function(e){var t=this.connected;this.connected=!1,this.connecting=!1,this.open=!1,t&&(this.transport.close(),this.transport.clearTimeouts(),this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect())},r.prototype.reconnect=function(){function e(){if(n.connected){for(var e in n.namespaces)n.namespaces.hasOwnProperty(e)&&""!==e&&n.namespaces[e].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}n.removeListener("connect_failed",t),n.removeListener("connect",t),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=o}function t(){return n.reconnecting?n.connected?e():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(t,1e3):void(n.reconnectionAttempts++>=r?n.redoTransports?(n.publish("reconnect_failed"),e()):(n.on("connect_failed",t),n.options["try multiple transports"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<i&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(t,n.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,r=this.options["max reconnection attempts"],o=this.options["try multiple transports"],i=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(t,this.reconnectionDelay),this.on("connect",t)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new r(this,"json"),this.ackPackets=0,this.acks={}}function r(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){function n(){r.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}var r=this;switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var o=["message",e.data];"data"==e.ack?o.push(n):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,o);break;case"event":var o=[e.name].concat(e.args);"data"==e.ack&&o.push(n),this.$emit.apply(this,o);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":e.advice?this.socket.onError(e):"unauthorized"==e.reason?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},r.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},r.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.apply(this,arguments)}e.websocket=r,t.util.inherit(r,t.Transport),r.prototype.name="websocket",r.prototype.open=function(){var e,r=t.util.query(this.socket.options.query),o=this;return e||(e=n.MozWebSocket||n.WebSocket),this.websocket=new e(this.prepareUrl()+r),this.websocket.onopen=function(){o.onOpen(),o.socket.setBuffer(!1)},this.websocket.onmessage=function(e){o.onData(e.data)},this.websocket.onclose=function(){o.onClose(),o.socket.setBuffer(!0)},this.websocket.onerror=function(e){o.onError(e)},this},r.prototype.send=function(e){return this.websocket.send(e),this},r.prototype.payload=function(e){for(var t=0,n=e.length;n>t;t++)this.packet(e[t]);return this},r.prototype.close=function(){return this.websocket.close(),this},r.prototype.onError=function(e){this.socket.onError(e)},r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},r.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},r.xdomainCheck=function(){return!0},t.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(){t.Transport.websocket.apply(this,arguments)}e.flashsocket=n,t.util.inherit(n,t.Transport.websocket),n.prototype.name="flashsocket",n.prototype.open=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.open.apply(e,n)}),this},n.prototype.send=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.send.apply(e,n)}),this},n.prototype.close=function(){return WebSocket.__tasks.length=0,t.Transport.websocket.prototype.close.call(this),this},n.prototype.ready=function(e,r){function o(){var t=e.options,o=t["flash policy port"],a=["http"+(t.secure?"s":"")+":/",t.host+":"+t.port,t.resource,"static/flashsocket","WebSocketMain"+(e.isXDomain()?"Insecure":"")+".swf"];n.loaded||("undefined"==typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=a.join("/")),843!==o&&WebSocket.loadFlashPolicyFile("xmlsocket://"+t.host+":"+o),WebSocket.__initialize(),n.loaded=!0),r.call(i)}var i=this;return document.body?o():void t.util.load(o)},n.check=function(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},n.xdomainCheck=function(){return!0},"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0),t.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),"undefined"!=typeof window)var swfobject=function(){function e(){if(!F){try{var e=N.getElementsByTagName("body")[0].appendChild(v("span"));e.parentNode.removeChild(e)}catch(t){return}F=!0;for(var n=P.length,r=0;n>r;r++)P[r]()}}function t(e){F?e():P[P.length]=e}function n(e){if(typeof I.addEventListener!=$)I.addEventListener("load",e,!1);else if(typeof N.addEventListener!=$)N.addEventListener("load",e,!1);else if(typeof I.attachEvent!=$)g(I,"onload",e);else if("function"==typeof I.onload){var t=I.onload;I.onload=function(){t(),e()}}else I.onload=e}function r(){B?o():i()}function o(){var e=N.getElementsByTagName("body")[0],t=v(T);t.setAttribute("type",A);var n=e.appendChild(t);if(n){var r=0;!function(){if(typeof n.GetVariable!=$){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),H.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>r)return r++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,i()}()}else i()}function i(){var e=q.length;if(e>0)for(var t=0;e>t;t++){var n=q[t].id,r=q[t].callbackFn,o={success:!1,id:n};if(H.pv[0]>0){var i=m(n);if(i)if(!y(q[t].swfVersion)||H.wk&&H.wk<312)if(q[t].expressInstall&&s()){var l={};l.data=q[t].expressInstall,l.width=i.getAttribute("width")||"0",l.height=i.getAttribute("height")||"0",i.getAttribute("class")&&(l.styleclass=i.getAttribute("class")),i.getAttribute("align")&&(l.align=i.getAttribute("align"));for(var f={},d=i.getElementsByTagName("param"),h=d.length,p=0;h>p;p++)"movie"!=d[p].getAttribute("name").toLowerCase()&&(f[d[p].getAttribute("name")]=d[p].getAttribute("value"));c(l,f,n,r)}else u(i),r&&r(o);else _(n,!0),r&&(o.success=!0,o.ref=a(n),r(o))}else if(_(n,!0),r){var v=a(n);v&&typeof v.SetVariable!=$&&(o.success=!0,o.ref=v),r(o)}}}function a(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=$)t=n;else{var r=n.getElementsByTagName(T)[0];r&&(t=r)}return t}function s(){return!Y&&y("6.0.65")&&(H.win||H.mac)&&!(H.wk&&H.wk<312)}function c(e,t,n,r){Y=!0,x=r||null,j={success:!1,id:n};var o=m(n);if(o){"OBJECT"==o.nodeName?(k=l(o),E=null):(k=o,E=n),e.id=O,(typeof e.width==$||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==$||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),N.title=N.title.slice(0,47)+" - Flash Player Installation";var i=H.ie&&H.win?"ActiveX":"PlugIn",a="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+i+"&MMdoctitle="+N.title;if(typeof t.flashvars!=$?t.flashvars+="&"+a:t.flashvars=a,H.ie&&H.win&&4!=o.readyState){var s=v("div");n+="SWFObjectNew",s.setAttribute("id",n),o.parentNode.insertBefore(s,o),o.style.display="none",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}f(e,t,n)}}function u(e){if(H.ie&&H.win&&4!=e.readyState){var t=v("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=v("div");if(H.win&&H.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(T)[0];if(n){var r=n.childNodes;if(r)for(var o=r.length,i=0;o>i;i++)1==r[i].nodeType&&"PARAM"==r[i].nodeName||8==r[i].nodeType||t.appendChild(r[i].cloneNode(!0))}}return t}function f(e,t,n){var r,o=m(n);if(H.wk&&H.wk<312)return r;if(o)if(typeof e.id==$&&(e.id=n),H.ie&&H.win){var i="";for(var a in e)e[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?t.movie=e[a]:"styleclass"==a.toLowerCase()?i+=' class="'+e[a]+'"':"classid"!=a.toLowerCase()&&(i+=" "+a+'="'+e[a]+'"'));var s="";for(var c in t)t[c]!=Object.prototype[c]&&(s+='<param name="'+c+'" value="'+t[c]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+s+"</object>",R[R.length]=e.id,r=m(e.id)}else{var u=v(T);u.setAttribute("type",A);for(var l in e)e[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?u.setAttribute("class",e[l]):"classid"!=l.toLowerCase()&&u.setAttribute(l,e[l]));for(var f in t)t[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&d(u,f,t[f]);o.parentNode.replaceChild(u,o),r=u}return r}function d(e,t,n){var r=v("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(H.ie&&H.win?(t.style.display="none",function(){4==t.readyState?p(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function p(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=N.getElementById(e)}catch(n){}return t}function v(e){return N.createElement(e)}function g(e,t,n){e.attachEvent(t,n),U[U.length]=[e,t,n]}function y(e){var t=H.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function b(e,t,n,r){if(!H.ie||!H.mac){var o=N.getElementsByTagName("head")[0];if(o){var i=n&&"string"==typeof n?n:"screen";if(r&&(S=null,C=null),!S||C!=i){var a=v("style");a.setAttribute("type","text/css"),a.setAttribute("media",i),S=o.appendChild(a),H.ie&&H.win&&typeof N.styleSheets!=$&&N.styleSheets.length>0&&(S=N.styleSheets[N.styleSheets.length-1]),C=i}H.ie&&H.win?S&&typeof S.addRule==T&&S.addRule(e,t):S&&typeof N.createTextNode!=$&&S.appendChild(N.createTextNode(e+" {"+t+"}"))}}}function _(e,t){if(z){var n=t?"visible":"hidden";F&&m(e)?m(e).style.visibility=n:b("#"+e,"visibility:"+n)}}function w(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=$?encodeURIComponent(e):e}{var k,E,x,j,S,C,$="undefined",T="object",D="Shockwave Flash",M="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",O="SWFObjectExprInst",L="onreadystatechange",I=window,N=document,W=navigator,B=!1,P=[r],q=[],R=[],U=[],F=!1,Y=!1,z=!0,H=function(){var e=typeof N.getElementById!=$&&typeof N.getElementsByTagName!=$&&typeof N.createElement!=$,t=W.userAgent.toLowerCase(),n=W.platform.toLowerCase(),r=/win/.test(n?n:t),o=/mac/.test(n?n:t),i=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,a=!1,s=[0,0,0],c=null;if(typeof W.plugins!=$&&typeof W.plugins[D]==T)c=W.plugins[D].description,!c||typeof W.mimeTypes!=$&&W.mimeTypes[A]&&!W.mimeTypes[A].enabledPlugin||(B=!0,a=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof I.ActiveXObject!=$)try{var u=new ActiveXObject(M);u&&(c=u.GetVariable("$version"),c&&(a=!0,c=c.split(" ")[1].split(","),s=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(l){}return{w3:e,pv:s,wk:i,ie:a,win:r,mac:o}}();!function(){H.w3&&((typeof N.readyState!=$&&"complete"==N.readyState||typeof N.readyState==$&&(N.getElementsByTagName("body")[0]||N.body))&&e(),F||(typeof N.addEventListener!=$&&N.addEventListener("DOMContentLoaded",e,!1),H.ie&&H.win&&(N.attachEvent(L,function(){"complete"==N.readyState&&(N.detachEvent(L,arguments.callee),e())}),I==top&&!function(){if(!F){try{N.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),H.wk&&!function(){return F?void 0:/loaded|complete/.test(N.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){H.ie&&H.win&&window.attachEvent("onunload",function(){for(var e=U.length,t=0;e>t;t++)U[t][0].detachEvent(U[t][1],U[t][2]);for(var n=R.length,r=0;n>r;r++)h(R[r]);for(var o in H)H[o]=null;H=null;for(var i in swfobject)swfobject[i]=null;swfobject=null})}()}return{registerObject:function(e,t,n,r){if(H.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=r,q[q.length]=o,_(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){return H.w3?a(e):void 0},embedSWF:function(e,n,r,o,i,a,u,l,d,h){var p={success:!1,id:n};H.w3&&!(H.wk&&H.wk<312)&&e&&n&&r&&o&&i?(_(n,!1),t(function(){r+="",o+="";var t={};if(d&&typeof d===T)for(var m in d)t[m]=d[m];t.data=e,t.width=r,t.height=o;var v={};if(l&&typeof l===T)for(var g in l)v[g]=l[g];if(u&&typeof u===T)for(var b in u)typeof v.flashvars!=$?v.flashvars+="&"+b+"="+u[b]:v.flashvars=b+"="+u[b];if(y(i)){var w=f(t,v,n);t.id==n&&_(n,!0),p.success=!0,p.ref=w}else{if(a&&s())return t.data=a,void c(t,v,n,h);_(n,!0)}h&&h(p)})):h&&h(p)},switchOffAutoHideShow:function(){z=!1},ua:H,getFlashPlayerVersion:function(){return{major:H.pv[0],minor:H.pv[1],release:H.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(e,t,n){return H.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,r){H.w3&&s()&&c(e,t,n,r)},removeSWF:function(e){H.w3&&h(e)},createCSS:function(e,t,n,r){H.w3&&b(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=N.location.search||N.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return w(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var e=m(O);e&&k&&(e.parentNode.replaceChild(k,e),E&&(_(E,!0),H.ie&&H.win&&(k.style.display="block")),x&&x(j)),Y=!1}}}}();!function(){if("undefined"!=typeof window&&!window.WebSocket){var e=window.console;if(e&&e.log&&e.error||(e={log:function(){},error:function(){}}),!swfobject.hasFlashPlayerVersion("10.0.0"))return void e.error("Flash Player >= 10.0.0 is required.");"file:"==location.protocol&&e.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(e,t,n,r,o){var i=this;i.__id=WebSocket.__nextId++,WebSocket.__instances[i.__id]=i,i.readyState=WebSocket.CONNECTING,i.bufferedAmount=0,i.__events={},t?"string"==typeof t&&(t=[t]):t=[],setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(i.__id,e,t,n||null,r||0,o||null)})},0)},WebSocket.prototype.send=function(e){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(e));return 0>t?!0:(this.bufferedAmount+=t,!1)},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(e,t){e in this.__events||(this.__events[e]=[]),this.__events[e].push(t)},WebSocket.prototype.removeEventListener=function(e,t){if(e in this.__events)for(var n=this.__events[e],r=n.length-1;r>=0;--r)if(n[r]===t){n.splice(r,1);break}},WebSocket.prototype.dispatchEvent=function(e){for(var t=this.__events[e.type]||[],n=0;n<t.length;++n)t[n](e);var r=this["on"+e.type];r&&r(e)},WebSocket.prototype.__handleEvent=function(e){"readyState"in e&&(this.readyState=e.readyState),"protocol"in e&&(this.protocol=e.protocol);var t;if("open"==e.type||"error"==e.type)t=this.__createSimpleEvent(e.type);else if("close"==e.type)t=this.__createSimpleEvent("close");else{if("message"!=e.type)throw"unknown event type: "+e.type;var n=decodeURIComponent(e.message);t=this.__createMessageEvent("message",n)}this.dispatchEvent(t)},WebSocket.prototype.__createSimpleEvent=function(e){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(e,!1,!1),t}return{type:e,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(e,t){if(document.createEvent&&window.MessageEvent&&!window.opera){var n=document.createEvent("MessageEvent");return n.initMessageEvent("message",!1,!1,t,null,null,window,null),n}return{type:e,data:t,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(e){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(e)})},WebSocket.__initialize=function(){if(!WebSocket.__flash){if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),!window.WEB_SOCKET_SWF_LOCATION)return void e.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");var t=document.createElement("div");t.id="webSocketContainer",t.style.position="absolute",WebSocket.__isFlashLite()?(t.style.left="0px",t.style.top="0px"):(t.style.left="-100px",t.style.top="-100px");var n=document.createElement("div");n.id="webSocketFlash",t.appendChild(n),document.body.appendChild(t),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(t){t.success||e.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var e=0;e<WebSocket.__tasks.length;++e)WebSocket.__tasks[e]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{for(var t=WebSocket.__flash.receiveEvents(),n=0;n<t.length;++n)WebSocket.__instances[t[n].webSocketId].__handleEvent(t[n])}catch(r){e.error(r)}},0),!0},WebSocket.__log=function(t){e.log(decodeURIComponent(t))},WebSocket.__error=function(t){e.error(decodeURIComponent(t))},WebSocket.__addTask=function(e){WebSocket.__flash?e():WebSocket.__tasks.push(e)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var e=window.navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin&&e.enabledPlugin.filename&&e.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))}}(),function(e,t,n){function r(e){e&&(t.Transport.apply(this,arguments),this.sendBuffer=[])}function o(){}e.XHR=r,t.util.inherit(r,t.Transport),r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},r.prototype.payload=function(e){for(var n=[],r=0,o=e.length;o>r;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},r.prototype.send=function(e){return this.post(e),this},r.prototype.post=function(e){function t(){4==this.readyState&&(this.onreadystatechange=o,i.posting=!1,200==this.status?i.socket.setBuffer(!1):i.onClose())}function r(){this.onload=o,i.socket.setBuffer(!1)}var i=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=r:this.sendXHR.onreadystatechange=t,this.sendXHR.send(e)},r.prototype.close=function(){return this.onClose(),this},r.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(e||"GET",this.prepareUrl()+r,!0),"POST"==e)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(o){}return n},r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},r.check=function(e,n){try{if(t.util.request(n))return!0}catch(r){}return!1},r.xdomainCheck=function(){return r.check(null,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(){t.Transport.XHR.apply(this,arguments)}e.htmlfile=n,t.util.inherit(n,t.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new ActiveXObject("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var e=this.doc.createElement("div");e.className="socketio",this.doc.body.appendChild(e),this.iframe=this.doc.createElement("iframe"),e.appendChild(this.iframe);var n=this,r=t.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+r,t.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(e,t){this.onData(e);try{var n=t.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(r){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)},n.check=function(){if("ActiveXObject"in window)try{var e=new ActiveXObject("htmlfile");return e&&t.Transport.XHR.check()}catch(n){}return!1},n.xdomainCheck=function(){return!1},t.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.XHR.apply(this,arguments)}function o(){}e["xhr-polling"]=r,t.util.inherit(r,t.Transport.XHR),t.util.merge(r,t.Transport.XHR),r.prototype.name="xhr-polling",r.prototype.open=function(){var e=this;return t.Transport.XHR.prototype.open.call(e),!1},r.prototype.get=function(){function e(){4==this.readyState&&(this.onreadystatechange=o,200==this.status?(r.onData(this.responseText),r.get()):r.onClose())}function t(){this.onload=o,r.onData(this.responseText),r.get()}if(this.open){var r=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?this.xhr.onload=this.xhr.onerror=t:this.xhr.onreadystatechange=e,this.xhr.send(null)}},r.prototype.onClose=function(){if(t.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=o;try{this.xhr.abort()}catch(e){}this.xhr=null}},r.prototype.ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},t.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function r(){t.Transport["xhr-polling"].apply(this,arguments),this.index=t.j.length;var e=this;t.j.push(function(t){e._(t)})}var o=n.document&&"MozAppearance"in n.document.documentElement.style;e["jsonp-polling"]=r,t.util.inherit(r,t.Transport["xhr-polling"]),r.prototype.name="jsonp-polling",r.prototype.post=function(e){function n(){r(),o.socket.setBuffer(!1)}function r(){o.iframe&&o.form.removeChild(o.iframe);try{a=document.createElement('<iframe name="'+o.iframeId+'">')}catch(e){a=document.createElement("iframe"),a.name=o.iframeId}a.id=o.iframeId,o.form.appendChild(a),o.iframe=a}var o=this,i=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var a,s=document.createElement("form"),c=document.createElement("textarea"),u=this.iframeId="socketio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),c.name="d",s.appendChild(c),document.body.appendChild(s),this.form=s,this.area=c}this.form.action=this.prepareUrl()+i,r(),this.area.value=t.JSON.stringify(e);try{this.form.submit()}catch(l){}this.iframe.attachEvent?a.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n,this.socket.setBuffer(!0)},r.prototype.get=function(){var e=this,n=document.createElement("script"),r=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+r,n.onerror=function(){e.onClose()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),this.script=n,o&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype._=function(e){return this.onData(e),this.open&&this.get(),this},r.prototype.ready=function(e,n){var r=this;return o?void t.util.load(function(){n.call(r)}):n.call(this)},r.check=function(){return"document"in n},r.xdomainCheck=function(){return!0},t.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this)}).call(window)},{}],58:[function(e,t,n){(function(){var e=this,r=e._,o={},i=Array.prototype,a=Object.prototype,s=Function.prototype,c=i.push,u=i.slice,l=i.concat,f=a.toString,d=a.hasOwnProperty,h=i.forEach,p=i.map,m=i.reduce,v=i.reduceRight,g=i.filter,y=i.every,b=i.some,_=i.indexOf,w=i.lastIndexOf,k=Array.isArray,E=Object.keys,x=s.bind,j=function(e){return e instanceof j?e:this instanceof j?void(this._wrapped=e):new j(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=j),n._=j):e._=j,j.VERSION="1.5.2";var S=j.each=j.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===o)return}else for(var a=j.keys(e),r=0,i=a.length;i>r;r++)if(t.call(n,e[a[r]],a[r],e)===o)return
};j.map=j.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(S(e,function(e,o,i){r.push(t.call(n,e,o,i))}),r)};var C="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return r&&(t=j.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(S(e,function(e,i,a){o?n=t.call(r,n,e,i,a):(n=e,o=!0)}),!o)throw new TypeError(C);return n},j.reduceRight=j.foldr=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),v&&e.reduceRight===v)return r&&(t=j.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var i=e.length;if(i!==+i){var a=j.keys(e);i=a.length}if(S(e,function(s,c,u){c=a?a[--i]:--i,o?n=t.call(r,n,e[c],c,u):(n=e[c],o=!0)}),!o)throw new TypeError(C);return n},j.find=j.detect=function(e,t,n){var r;return $(e,function(e,o,i){return t.call(n,e,o,i)?(r=e,!0):void 0}),r},j.filter=j.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(S(e,function(e,o,i){t.call(n,e,o,i)&&r.push(e)}),r)},j.reject=function(e,t,n){return j.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},j.every=j.all=function(e,t,n){t||(t=j.identity);var r=!0;return null==e?r:y&&e.every===y?e.every(t,n):(S(e,function(e,i,a){return(r=r&&t.call(n,e,i,a))?void 0:o}),!!r)};var $=j.some=j.any=function(e,t,n){t||(t=j.identity);var r=!1;return null==e?r:b&&e.some===b?e.some(t,n):(S(e,function(e,i,a){return r||(r=t.call(n,e,i,a))?o:void 0}),!!r)};j.contains=j.include=function(e,t){return null==e?!1:_&&e.indexOf===_?-1!=e.indexOf(t):$(e,function(e){return e===t})},j.invoke=function(e,t){var n=u.call(arguments,2),r=j.isFunction(t);return j.map(e,function(e){return(r?t:e[t]).apply(e,n)})},j.pluck=function(e,t){return j.map(e,function(e){return e[t]})},j.where=function(e,t,n){return j.isEmpty(t)?n?void 0:[]:j[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},j.findWhere=function(e,t){return j.where(e,t,!0)},j.max=function(e,t,n){if(!t&&j.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&j.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return S(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a>r.computed&&(r={value:e,computed:a})}),r.value},j.min=function(e,t,n){if(!t&&j.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&j.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return S(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a<r.computed&&(r={value:e,computed:a})}),r.value},j.shuffle=function(e){var t,n=0,r=[];return S(e,function(e){t=j.random(n++),r[n-1]=r[t],r[t]=e}),r},j.sample=function(e,t,n){return arguments.length<2||n?e[j.random(e.length-1)]:j.shuffle(e).slice(0,Math.max(0,t))};var T=function(e){return j.isFunction(e)?e:function(t){return t[e]}};j.sortBy=function(e,t,n){var r=T(t);return j.pluck(j.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var o={},i=null==n?j.identity:T(n);return S(t,function(n,a){var s=i.call(r,n,a,t);e(o,s,n)}),o}};j.groupBy=D(function(e,t,n){(j.has(e,t)?e[t]:e[t]=[]).push(n)}),j.indexBy=D(function(e,t,n){e[t]=n}),j.countBy=D(function(e,t){j.has(e,t)?e[t]++:e[t]=1}),j.sortedIndex=function(e,t,n,r){n=null==n?j.identity:T(n);for(var o=n.call(r,t),i=0,a=e.length;a>i;){var s=i+a>>>1;n.call(r,e[s])<o?i=s+1:a=s}return i},j.toArray=function(e){return e?j.isArray(e)?u.call(e):e.length===+e.length?j.map(e,j.identity):j.values(e):[]},j.size=function(e){return null==e?0:e.length===+e.length?e.length:j.keys(e).length},j.first=j.head=j.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},j.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},j.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},j.rest=j.tail=j.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},j.compact=function(e){return j.filter(e,j.identity)};var M=function(e,t,n){return t&&j.every(e,j.isArray)?l.apply(n,e):(S(e,function(e){j.isArray(e)||j.isArguments(e)?t?c.apply(n,e):M(e,t,n):n.push(e)}),n)};j.flatten=function(e,t){return M(e,t,[])},j.without=function(e){return j.difference(e,u.call(arguments,1))},j.uniq=j.unique=function(e,t,n,r){j.isFunction(t)&&(r=n,n=t,t=!1);var o=n?j.map(e,n,r):e,i=[],a=[];return S(o,function(n,r){(t?r&&a[a.length-1]===n:j.contains(a,n))||(a.push(n),i.push(e[r]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(e){var t=u.call(arguments,1);return j.filter(j.uniq(e),function(e){return j.every(t,function(t){return j.indexOf(t,e)>=0})})},j.difference=function(e){var t=l.apply(i,u.call(arguments,1));return j.filter(e,function(e){return!j.contains(t,e)})},j.zip=function(){for(var e=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=j.pluck(arguments,""+n);return t},j.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},j.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=j.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;o>r;r++)if(e[r]===t)return r;return-1},j.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},j.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,i=new Array(r);r>o;)i[o++]=e,e+=n;return i};var A=function(){};j.bind=function(e,t){var n,r;if(x&&e.bind===x)return x.apply(e,u.call(arguments,1));if(!j.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));A.prototype=e.prototype;var o=new A;A.prototype=null;var i=e.apply(o,n.concat(u.call(arguments)));return Object(i)===i?i:o}},j.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},j.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=j.bind(e[t],e)}),e},j.memoize=function(e,t){var n={};return t||(t=j.identity),function(){var r=t.apply(this,arguments);return j.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},j.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},j.defer=function(e){return j.delay.apply(j,[e,1].concat(u.call(arguments,1)))},j.throttle=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:new Date,a=null,i=e.apply(r,o)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var l=t-(u-s);return r=this,o=arguments,0>=l?(clearTimeout(a),a=null,s=u,i=e.apply(r,o)):a||n.trailing===!1||(a=setTimeout(c,l)),i}},j.debounce=function(e,t,n){var r,o,i,a,s;return function(){i=this,o=arguments,a=new Date;var c=function(){var u=new Date-a;t>u?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(i,o)))},u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(i,o)),s}},j.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},j.wrap=function(e,t){return function(){var n=[e];return c.apply(n,arguments),t.apply(this,n)}},j.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},j.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},j.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)j.has(e,n)&&t.push(n);return t},j.values=function(e){for(var t=j.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},j.pairs=function(e){for(var t=j.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},j.invert=function(e){for(var t={},n=j.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},j.functions=j.methods=function(e){var t=[];for(var n in e)j.isFunction(e[n])&&t.push(n);return t.sort()},j.extend=function(e){return S(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},j.pick=function(e){var t={},n=l.apply(i,u.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},j.omit=function(e){var t={},n=l.apply(i,u.call(arguments,1));for(var r in e)j.contains(n,r)||(t[r]=e[r]);return t},j.defaults=function(e){return S(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},j.clone=function(e){return j.isObject(e)?j.isArray(e)?e.slice():j.extend({},e):e},j.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof j&&(e=e._wrapped),t instanceof j&&(t=t._wrapped);var o=f.call(e);if(o!=f.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=n.length;i--;)if(n[i]==e)return r[i]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var c=0,u=!0;if("[object Array]"==o){if(c=e.length,u=c==t.length)for(;c--&&(u=O(e[c],t[c],n,r)););}else{for(var l in e)if(j.has(e,l)&&(c++,!(u=j.has(t,l)&&O(e[l],t[l],n,r))))break;if(u){for(l in t)if(j.has(t,l)&&!c--)break;u=!c}}return n.pop(),r.pop(),u};j.isEqual=function(e,t){return O(e,t,[],[])},j.isEmpty=function(e){if(null==e)return!0;if(j.isArray(e)||j.isString(e))return 0===e.length;for(var t in e)if(j.has(e,t))return!1;return!0},j.isElement=function(e){return!(!e||1!==e.nodeType)},j.isArray=k||function(e){return"[object Array]"==f.call(e)},j.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){j["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),j.isArguments(arguments)||(j.isArguments=function(e){return!(!e||!j.has(e,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(e){return"function"==typeof e}),j.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},j.isNaN=function(e){return j.isNumber(e)&&e!=+e},j.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},j.isNull=function(e){return null===e},j.isUndefined=function(e){return void 0===e},j.has=function(e,t){return d.call(e,t)},j.noConflict=function(){return e._=r,this},j.identity=function(e){return e},j.times=function(e,t,n){for(var r=Array(Math.max(0,e)),o=0;e>o;o++)r[o]=t.call(n,o);return r},j.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};L.unescape=j.invert(L.escape);var I={escape:new RegExp("["+j.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(L.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(e){j[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return L[e][t]})}}),j.result=function(e,t){if(null==e)return void 0;var n=e[t];return j.isFunction(n)?n.call(e):n},j.mixin=function(e){S(j.functions(e),function(t){var n=j[t]=e[t];j.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),q.call(this,n.apply(j,e))}})};var N=0;j.uniqueId=function(e){var t=++N+"";return e?e+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(e,t,n){var r;n=j.defaults({},n,j.templateSettings);var o=new RegExp([(n.escape||W).source,(n.interpolate||W).source,(n.evaluate||W).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,n,r,o,s){return a+=e.slice(i,s).replace(P,function(e){return"\\"+B[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,j);var c=function(e){return r.call(this,e,j)};return c.source="function("+(n.variable||"obj")+"){\n"+a+"}",c},j.chain=function(e){return j(e).chain()};var q=function(e){return this._chain?j(e).chain():e};j.mixin(j),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];j.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],q.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];j.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],59:[function(e,t){t.exports={name:"joola.io.sdk",preferGlobal:!1,version:"0.5.0",author:"Joola <info@joo.la>",description:"joola.io's software development kit (SDK)",engine:"node >= 0.10.x","private":!1,repository:{type:"git",url:"https://github.com/joola/joola.io.sdk.git"},bugs:"https://joolatech.atlassian.net/browse/JARVIS",contributors:[{name:"Itay Weinberger",email:"itay@joo.la",url:"http://joo.la"},{name:"Or Weinberger",email:"or@joo.la",url:"http://joo.la"}],main:"./index.js",scripts:{test:"make test",coveralls:"mocha --require blanket --reporter mocha-lcov-reporter | node ./node_modules/coveralls/bin/coveralls.js",prepublish:"make compile"},dependencies:{eventemitter2:"~0.4.13",async:"~0.2.10","socket.io-browserify":"~0.9.6",cloneextend:"0.0.3",underscore:"~1.5.2",moment:"~2.5.1"},devDependencies:{coveralls:"*",istanbul:"*",should:"*",mocha:"*",sinon:"*",chai:"*","sinon-chai":"*",jshint:"*",supertest:"*",browserify:"^3.38.0",watchify:"^0.6.3","uglify-js":"^2.3.6"},license:"GPL-3.0"}},{}]},{},[2,1]);
//# sourceMappingURL=/joola.io.min.js.map